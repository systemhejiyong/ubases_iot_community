// Code generated by sgen.exe,2022-04-17 14:07:18. DO NOT EDIT.
// versions: v1.0.0
//  API结构体封装，请自行根据需要删减字段修改

package entitys

import (
	"cloud_platform/iot_common/iotutil"
	"cloud_platform/iot_proto/protos/protosService"
	"time"

	"google.golang.org/protobuf/types/known/timestamppb"
)

// 增、删、改及查询返回
type SysPostEntitys struct {
	PostId    string `json:"postId,omitempty"`
	PostCode  string `json:"postCode,omitempty"`
	PostName  string `json:"postName,omitempty"`
	PostSort  int32  `json:"postSort,omitempty"`
	Status    int64  `json:"status,omitempty"`
	Remark    string `json:"remark,omitempty"`
	CreatedBy int64  `json:"createdBy,omitempty"`
	UpdatedBy int64  `json:"updatedBy,omitempty"`
	CreatedAt int64  `json:"createdAt,omitempty"`
	UpdatedAt int64  `json:"updatedAt,omitempty"`
	//DeletedAt int64 `json:"deletedAt,omitempty"`
}

// 查询条件
type SysPostQuery struct {
	Page      uint64 `json:"page" form:"pageNum"`
	Limit     uint64 `json:"limit" form:"pageSize"`
	Sort      string `json:"sort" form:"sort"`
	SortField string `json:"sortField" form:"sortField"`
	PostCode  string `json:"postCode" form:"postCode"`
	PostName  string `json:"postName" form:"postName"`
	Status    string `json:"status" form:"status"`
	PostId    int64  `json:"id" form:"id"`
}
type SysPostFilter struct {
	PostId    string `json:"postId,omitempty"`
	PostCode  string `json:"postCode,omitempty"`
	PostName  string `json:"postName,omitempty"`
	PostSort  int32  `json:"postSort,omitempty"`
	Status    string `json:"status,omitempty"`
	Remark    string `json:"remark,omitempty"`
	CreatedBy int64  `json:"createdBy,omitempty"`
	UpdatedBy int64  `json:"updatedBy,omitempty"`
	CreatedAt int64  `json:"createdAt,omitempty"`
	UpdatedAt int64  `json:"updatedAt,omitempty"`
	//DeletedAt int64 `json:"deletedAt,omitempty"`
}

// 实体转pb对象
func SysPost_e2pb(src *SysPostEntitys) *protosService.SysPost {
	if src == nil {
		return nil
	}
	pbObj := protosService.SysPost{
		PostId:    iotutil.ToInt64(src.PostId),
		PostCode:  src.PostCode,
		PostName:  src.PostName,
		PostSort:  src.PostSort,
		Status:    iotutil.ToString(src.Status),
		Remark:    src.Remark,
		CreatedBy: src.CreatedBy,
		UpdatedBy: src.UpdatedBy,
		CreatedAt: timestamppb.New(iotutil.GetTimeByUnit(src.CreatedAt)),
		UpdatedAt: timestamppb.New(iotutil.GetTimeByUnit(src.UpdatedAt)),
	}
	return &pbObj
}

// pb对象转实体
func SysPost_pb2e(src *protosService.SysPost) *SysPostEntitys {
	if src == nil {
		return nil
	}
	entitysObj := SysPostEntitys{
		PostId:    iotutil.ToString(src.PostId),
		PostCode:  src.PostCode,
		PostName:  src.PostName,
		PostSort:  src.PostSort,
		Status:    iotutil.ToInt64(src.Status),
		Remark:    src.Remark,
		CreatedBy: src.CreatedBy,
		UpdatedBy: src.UpdatedBy,
		CreatedAt: src.CreatedAt.AsTime().Unix(),
		UpdatedAt: src.UpdatedAt.AsTime().Unix(),
	}
	return &entitysObj
}

// 新增和修改的时候给公共字段赋值, opterType 1 新增, 2 修改
func SysPost_SetCommonFiled(model *SysPostEntitys, userId int64, opterType int) {
	if opterType == 1 {
		model.CreatedAt = time.Now().Unix()
		model.CreatedBy = userId
	}
	model.UpdatedAt = time.Now().Unix()
	model.UpdatedBy = userId
}
