// Code generated by sgen.exe,2022-08-16 10:17:33. DO NOT EDIT.
// versions: v1.0.0
// 如果确实需要修改,请修改后改文件名,可以移除文件名中的.gen,以防下次生成覆盖

package convert

import (
	"cloud_platform/iot_device_service/config"
	"cloud_platform/iot_model/db_device/model"
	proto "cloud_platform/iot_proto/protos/protosService"
	"google.golang.org/protobuf/types/known/timestamppb"
)

func IotDeviceGroup_pb2db(src *proto.IotDeviceGroup) *model.TIotDeviceGroup {
	if src == nil {
		return nil
	}
	dbObj := model.TIotDeviceGroup{
		Id:        src.Id,
		Name:      src.Name,
		RoomId:    src.RoomId,
		RoomName:  src.RoomName,
		HomeId:    src.HomeId,
		UserId:    src.UserId,
		Pic:       src.Pic,
		CreatedAt: src.CreatedAt.AsTime(),
		UpdatedAt: src.UpdatedAt.AsTime(),
	}
	return &dbObj
}

func IotDeviceGroup_db2pb(src *model.TIotDeviceGroup) *proto.IotDeviceGroup {
	if src == nil {
		return nil
	}
	var MqttServer string
	if len(config.Global.AppMQTT.Addrs) > 0 {
		MqttServer = config.Global.AppMQTT.Addrs[0]
	} else {
		MqttServer = "ws://120.77.64.252:8883/mqtt"
	}
	pbObj := proto.IotDeviceGroup{
		Id:         src.Id,
		Name:       src.Name,
		RoomId:     src.RoomId,
		RoomName:   src.RoomName,
		HomeId:     src.HomeId,
		UserId:     src.UserId,
		Pic:        src.Pic,
		MqttServer: MqttServer,
		CreatedAt:  timestamppb.New(src.CreatedAt),
		UpdatedAt:  timestamppb.New(src.UpdatedAt),
	}
	return &pbObj
}
