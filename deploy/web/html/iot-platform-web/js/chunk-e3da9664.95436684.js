(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e3da9664"],{"2bf6":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t._self._c;return e("div",[t._l(t.networkGuides,(function(r,n){return e("div",{key:n,staticClass:"networkGuide-data"},[2!=r.type?e("a-checkbox",{attrs:{disabled:t.disabled},model:{value:r.bl,callback:function(e){t.$set(r,"bl",e)},expression:"v.bl"}},[e("div",{staticClass:"networkGuide-text"},[t._v(" "+t._s(t.$DictName("network_guide",r.type))+" ")]),e("a-button",{attrs:{type:"primary",disabled:!r.bl},on:{click:function(e){return t.selectNetworkGuide(r,n)}}},[t._v(" 配网文案 ")])],1):t._e()],1)})),e("a-modal",{attrs:{title:"配网文案",width:640,visible:t.visible,"confirm-loading":t.confirmLoading},on:{cancel:t.handleCancel},scopedSlots:t._u([{key:"footer",fn:function(){return[e("a-button",{key:"back",on:{click:t.handleCancel}},[t._v("取消")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-button",{key:"submit",attrs:{type:"primary",loading:t.confirmLoading},on:{click:t.handleOk}},[t._v(" 确定 ")])]},proxy:!0}])},[e("a-spin",{attrs:{spinning:t.confirmLoading}},[e("div",{staticClass:"modal-content"},[t._l(t.netList.steps,(function(r,n){return e("div",{key:n},[e("div",{staticClass:"writer-header"},[e("div",[t._v("步骤"+t._s(n+1))]),e("a-button",{attrs:{type:"danger",shape:"circle",icon:"delete",disabled:t.disabled},on:{click:function(e){return t.deleteWriter(n)}}})],1),e("a-form-model",{ref:"ruleForm",refInFor:!0,attrs:{rules:t.rules,model:r}},[e("a-row",[e("a-col",{attrs:{span:24}},[e("a-form-model-item",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol,label:"中文文案",prop:"instruction"}},[e("a-input",{attrs:{disabled:t.disabled},model:{value:r.instruction,callback:function(e){t.$set(r,"instruction",e)},expression:"v.instruction"}})],1)],1),e("a-col",{attrs:{span:24}},[e("a-form-model-item",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol,label:"英文文案",prop:"instructionEn"}},[e("a-input",{attrs:{disabled:t.disabled},model:{value:r.instructionEn,callback:function(e){t.$set(r,"instructionEn",e)},expression:"v.instructionEn"}})],1)],1),e("a-col",{attrs:{span:24}},[e("a-form-model-item",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol,label:"图片视频",prop:"fileList"}},[e("a-upload",{attrs:{name:"listimg","list-type":"picture-card",accept:".jpg,.png,.gif,.jpeg,.bmp,.mp4",disabled:t.disabled,"show-upload-list":!1,customRequest:t.handleUploadImg,fileList:r.fileList,"before-upload":t.handleBeforeUpload},on:{change:function(e){return t.handleChange(n,e)}}},[r.imageUrl?e("img",{staticStyle:{width:"200px"},attrs:{src:r.imageUrl,alt:"avatar"}}):e("video",{staticStyle:{width:"200px"},attrs:{src:r.videoUrl}}),r.fileList.length<1?e("div",[e("a-icon",{attrs:{type:"plus"}}),e("div",{staticClass:"ant-upload-text"},[t._v(" "+t._s(t.$t("dicItem.upload"))+" ")])],1):t._e()]),e("div",{staticClass:"upload-hint"},[t._v(" 图片： 建议尺寸800px*600px，不超过300K，支持.jpg .bmp .jpeg .png .gif格式 ")]),e("div",{staticClass:"upload-hint"},[t._v(" 视频： 建议尺寸600px*450px，不超过500K，不超过15秒，支持.mp4格式 ")])],1)],1)],1)],1)],1)})),t.netList.steps.length<4?e("a-button",{attrs:{block:"",icon:"push",disabled:t.disabled},on:{click:t.addWriter}},[t._v(" 添加步骤 ")]):t._e(),t.netList.steps.length>=4?e("a-alert",{attrs:{message:"配网文案上限为四条",banner:""}}):t._e()],2)])],1)],2)},i=[],o=r("c7eb"),a=r("1da1"),u=r("5530"),d=(r("4e82"),r("d3b7"),r("159b"),r("a434"),r("b64b"),r("c4c8")),s=r("61f7"),c={props:{formData:{type:Object,default:{}},disabled:{type:Boolean,default:!1}},data:function(){return{networkGuides:[],rules:{instruction:Object(s["b"])(1,200,"请输入1-200的中文文案"),instructionEn:Object(s["b"])(1,200,"请输入1-200的英文文案"),fileList:[{type:"array",required:!0,message:"请上传图片或视频"}]},visible:!1,confirmLoading:!1,writerForm:{instruction:"",instructionEn:"",imageUrl:"",videoUrl:"",fileList:[],sort:""},fileList:[],labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}},fileIndex:null,netType:null,netList:{steps:[]},editNet:[]}},created:function(){this.init()},watch:{formData:function(t,e){this.init()}},methods:{selectNetworkGuide:function(t,e){this.netType=t.type,this.netList=t,this.netList.steps.sort((function(t,e){return t.sort-e.sort})),this.netList.steps.forEach((function(t){t.fileList=[{uid:"1",name:t.imageUrl||t.videoUrl,status:"done",url:t.imageUrl||t.videoUrl}]})),this.visible=!0},init:function(){var t=this;Object(d["F"])().then((function(e){e.data&&(e.data.forEach((function(t){t.bl=!1})),t.networkGuides=e.data||[],t.formData&&t.formData.id&&e.data.forEach((function(e,r){t.formData.networkGuides.forEach((function(n){n&&n.type===e.type&&t.networkGuides.splice(r,1,Object(u["a"])(Object(u["a"])({},n),{},{bl:!0}))}))})))}))},handleOk:function(){var t=this,e=!1;this.netList.steps.some((function(r,n){return t.$refs["ruleForm"][n].validate((function(t){e=!t})),e})),e||(this.networkGuides.forEach((function(e){t.netType==e.type&&(e=t.netList)})),this.visible=!1)},handleCancel:function(){this.visible=!1},handleUploadImg:function(t){var e=this;return Object(a["a"])(Object(o["a"])().mark((function r(){var n,i;return Object(o["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.file,e.confirmLoading=!0,r.next=4,e.$UploadFile({file:n,dir:"networkGuide"});case 4:i=r.sent,i&&0==i.code?e.isImg(n.type)?(e.netList.steps[e.fileIndex].imageUrl=i.data.fullPath,e.netList.steps[e.fileIndex].videoUrl=""):e.isVideo(n.type)?(e.netList.steps[e.fileIndex].videoUrl=i.data.fullPath,e.netList.steps[e.fileIndex].imageUrl=""):(e.netList.steps[e.fileIndex].fileList=[],e.$message.warning("文件格式有误")):(e.netList.steps[e.fileIndex].fileList=[],e.netList.steps[e.fileIndex].imageUrl="",e.netList.steps[e.fileIndex].videoUrl="",e.$message.error("上传失败")),e.confirmLoading=!1;case 7:case"end":return r.stop()}}),r)})))()},handleBeforeUpload:function(t){var e=this;return new Promise((function(r,n){var i="image/jpg"===t.type||"image/png"===t.type||"image/bmp"===t.type||"image/gif"===t.type||"image/jpeg"===t.type||"video/mp4"===t.type;return i?e.isImg(t.type)&&t.size/1024/1024>.3?(e.$message.warning("上传图片最大300k"),n(!1)):e.isVideo(t.type)&&t.size/1024/1024>.5?(e.$message.warning("上传视频最大500k"),n(!1)):r(!0):(e.$message.warning("请选择.jpg,.png,.bmp,.jpeg,.gif图片或者,mp4视频"),n(!1))}))},handleChange:function(t,e){var r=e.fileList;this.fileIndex=t,this.netList.steps[this.fileIndex].fileList=r},addWriter:function(){var t=this,e=JSON.parse(JSON.stringify(this.writerForm));this.netList.steps.length>0?this.$refs["ruleForm"][this.netList.steps.length-1].validate((function(r){r&&t.netList.steps.push(Object(u["a"])(Object(u["a"])({},e),{},{sort:t.netList.steps.length+1}))})):this.netList.steps.push(Object(u["a"])(Object(u["a"])({},e),{},{sort:1}))},deleteWriter:function(t){var e=this;this.$Delete(this,"").then((function(r){e.netList.steps.splice(t,1),e.netList.steps.forEach((function(t,e){t["sort"]=e+1}))}))},isImg:function(t){return"image/jpeg"===t||"image/png"===t||"image/gif"===t||"image/jpg"===t||"image/bmp"===t},isVideo:function(t){return"video/mp4"===t}}},l=c,p=(r("b006"),r("2877")),f=Object(p["a"])(l,n,i,!1,null,"3a879d37",null);e["default"]=f.exports},"61f7":function(t,e,r){"use strict";r.d(e,"e",(function(){return n})),r.d(e,"k",(function(){return i})),r.d(e,"g",(function(){return d})),r.d(e,"q",(function(){return l})),r.d(e,"f",(function(){return p})),r.d(e,"r",(function(){return f})),r.d(e,"i",(function(){return m})),r.d(e,"j",(function(){return g})),r.d(e,"d",(function(){return b})),r.d(e,"b",(function(){return v})),r.d(e,"c",(function(){return h})),r.d(e,"m",(function(){return w})),r.d(e,"h",(function(){return j})),r.d(e,"o",(function(){return O})),r.d(e,"n",(function(){return x})),r.d(e,"p",(function(){return y})),r.d(e,"l",(function(){return L})),r.d(e,"a",(function(){return k}));r("99af");var n=/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/,i=/^[1][3,4,5,6,7,8,9][0-9]{9}$/,o=/^[A-Za-z0-9]+$/,a=/^([0-9]\d|[0-9])(.([0-9]\d|\d)){2}$/,u=/^([0-9]\d|[0-9])(.([0-9]\d|\d))(.([0-9]\d|\d)[A-Za-z0-9_]{0,})$/,d=/^[A-Za-z0-9_]+$/,s=/^[\a-\z\A-\Z0-9\.\,\?\<\>\。\，\-\——\=\;\@\！\!\+]+$/g,c=/^[A-Za-z0-9\u4e00-\u9fa5]+$/,l=/^[A-Za-z0-9\s\u4e00-\u9fa5]+$/,p=/^[A-Za-z0-9\s]+$/,f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return[{required:!0,message:t,trigger:e},{required:!0,min:1,max:50,message:"字符长度在1-50",trigger:e},{required:!0,pattern:c,message:"限制中文,英文和数字",trigger:e}]},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return[{required:!0,message:t,trigger:e},{required:!0,min:1,max:50,message:"字符长度在1-50",trigger:e},{required:!0,pattern:/^[\a-\z\A-\Z0-9\ \.\,\?\<\>\。\，\-\——\=\;\@\！\!\+]+$/g,message:"限制英文,数字和部分常用符号",trigger:e}]},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return[{required:!0,message:t,trigger:e},{required:!0,min:1,max:50,message:"字符长度在1-50",trigger:e},{required:!0,pattern:o,message:"只能输入英文和数字不能使用空格,符号",trigger:e}]},b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return[{type:e,required:!0,message:t,trigger:r}]},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"字符长度0-50",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return[{required:n,min:t,max:e,message:r}]},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return[{required:!0,message:t,trigger:n},{required:!0,min:r,max:e,message:"字符长度在".concat(r,"-").concat(e),trigger:n}]},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"请输入手机号码",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return[{required:!0,message:t,trigger:e},{required:!0,pattern:i,message:"请输入正确的手机号码(11位)",trigger:e}]},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"请输入邮箱",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return[{required:!0,message:t,trigger:e},{required:!0,pattern:n,message:"请输入正确格式规则的邮箱",trigger:e}]},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"请输入版本号",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return[{required:!0,message:t,trigger:e},{required:!0,pattern:a,message:"请输入格式xx.xx.xx的版本号",trigger:e}]},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"请输入版本号",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return[{required:!0,message:t,trigger:e},{required:!0,pattern:u,message:"请输入格式xx.xx.xx的版本号",trigger:e}]},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"请输入wifi名",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return[{required:!0,message:t,trigger:n},{required:!0,min:e,max:r,message:"字符长度在".concat(e,"-").concat(r),trigger:n},{required:!0,pattern:d,message:"请输入英文,数字,下划线的wifi名,不能使用空格和其他符号",trigger:n}]},L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"请输入密码",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return[{required:!0,message:t,trigger:e},{required:!0,min:8,max:50,message:"字符长度在8-50",trigger:e},{required:!0,pattern:s,message:"请输入英文,数字或常用符号的密码",trigger:e},{required:!0,pattern:/^(?=.*?[a-z])(?=.*?[A-Z])(?=.*?\d).*$/g,message:"密码必须要有英文字母大小写和数字",trigger:e}]},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"请输入账号",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return[{required:!0,message:t,trigger:e},{required:!0,min:1,max:50,message:"字符长度在1-50",trigger:e},{required:!0,pattern:/^([A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4})|([1][3,4,5,6,7,8,9][0-9]{9})$/,message:"请输入国内11位手机号或者邮箱",trigger:e}]}},"9ed7":function(t,e,r){},b006:function(t,e,r){"use strict";r("9ed7")},c4c8:function(t,e,r){"use strict";r.d(e,"u",(function(){return i})),r.d(e,"t",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"l",(function(){return u})),r.d(e,"h",(function(){return d})),r.d(e,"D",(function(){return s})),r.d(e,"M",(function(){return c})),r.d(e,"e",(function(){return l})),r.d(e,"o",(function(){return p})),r.d(e,"E",(function(){return f})),r.d(e,"O",(function(){return m})),r.d(e,"P",(function(){return g})),r.d(e,"d",(function(){return b})),r.d(e,"n",(function(){return v})),r.d(e,"q",(function(){return h})),r.d(e,"I",(function(){return w})),r.d(e,"G",(function(){return j})),r.d(e,"H",(function(){return O})),r.d(e,"N",(function(){return x})),r.d(e,"j",(function(){return y})),r.d(e,"f",(function(){return L})),r.d(e,"p",(function(){return k})),r.d(e,"s",(function(){return q})),r.d(e,"g",(function(){return $})),r.d(e,"r",(function(){return _})),r.d(e,"a",(function(){return C})),r.d(e,"k",(function(){return z})),r.d(e,"K",(function(){return U})),r.d(e,"z",(function(){return I})),r.d(e,"x",(function(){return A})),r.d(e,"A",(function(){return Z})),r.d(e,"B",(function(){return G})),r.d(e,"C",(function(){return D})),r.d(e,"y",(function(){return E})),r.d(e,"F",(function(){return P})),r.d(e,"w",(function(){return S})),r.d(e,"i",(function(){return F})),r.d(e,"c",(function(){return T})),r.d(e,"m",(function(){return N})),r.d(e,"v",(function(){return V})),r.d(e,"L",(function(){return J})),r.d(e,"J",(function(){return B}));var n=r("b775");function i(t){return Object(n["b"])({url:"/v1/platform/web/pm/productType/get",method:"post",data:t})}function o(t){return Object(n["b"])({url:"/v1/platform/web/pm/productType/get",method:"get",params:t})}function a(t){return Object(n["b"])({url:"/v1/platform/web/pm/productType/save",method:"post",data:t})}function u(t){return Object(n["b"])({url:"/v1/platform/web/pm/productType/update",method:"post",data:t})}function d(t){return Object(n["b"])({url:"/v1/platform/web/pm/productType/delete",method:"post",data:t})}function s(t){return Object(n["b"])({url:"/v1/platform/web/product/firmware/list",method:"post",data:t})}function c(t){return Object(n["b"])({url:"/v1/platform/web/product/firmware/setStatus",method:"post",data:t})}function l(t){return Object(n["b"])({url:"/v1/platform/web/product/firmwareVersion/add",method:"post",data:t})}function p(t){return Object(n["b"])({url:"/v1/platform/web/product/firmwareVersion/edit",method:"post",data:t})}function f(t){return Object(n["b"])({url:"/v1/platform/web/product/firmwareVersion/list",method:"post",data:t})}function m(t){return Object(n["b"])({url:"/v1/platform/web/product/firmwareVersion/onShelf",method:"post",data:t})}function g(t){return Object(n["b"])({url:"/v1/platform/web/product/firmwareVersion/unShelf",method:"post",data:t})}function b(t){return Object(n["b"])({url:"/v1/platform/web/product/firmware/add",method:"post",data:t})}function v(t){return Object(n["b"])({url:"/v1/platform/web/product/firmware/edit",method:"post",data:t})}function h(t){return Object(n["b"])({url:"/v1/platform/web/product/firmware/detail/"+t,method:"get"})}function w(t){return Object(n["b"])({url:"/v1/platform/web/pm/product/get",method:"post",data:t})}function j(t){return Object(n["b"])({url:"/v1/platform/web/pm/product/get",method:"get",params:t})}function O(t){return Object(n["b"])({url:"/v1/platform/web/pm/thingModel/getStandard",method:"get",params:t})}function x(t){return Object(n["b"])({url:"/v1/platform/web/pm/product/status",method:"post",data:t})}function y(t){return Object(n["b"])({url:"/v1/platform/web/pm/product/delete",method:"post",data:t})}function L(t){return Object(n["b"])({url:"/v1/platform/web/pm/product/save",method:"post",data:t})}function k(t){return Object(n["b"])({url:"/v1/platform/web/pm/product/update",method:"post",data:t})}function q(t){return Object(n["b"])({url:"/v1/platform/web/product/module/list",method:"post",data:t})}function $(t){return Object(n["b"])({url:"/v1/platform/web/product/module/delete",method:"post",data:t})}function _(t){return Object(n["b"])({url:"/v1/platform/web/product/module/detail/".concat(t),method:"get"})}function C(t){return Object(n["b"])({url:"/v1/platform/web/product/module/add",method:"post",data:t})}function z(t){return Object(n["b"])({url:"/v1/platform/web/product/module/edit",method:"post",data:t})}function U(t){return Object(n["b"])({url:"/v1/platform/web/product/module/setStatus",method:"post",data:t})}function I(t){return Object(n["b"])({url:"/v1/platform/web/iot/activeDevice/platformList",method:"post",data:t})}function A(t){return Object(n["b"])({url:"/v1/platform/web/iot/activeDevice/count",method:"post",data:t})}function Z(t){return Object(n["b"])({url:"/v1/platform/web/iot/activeDevice/logList",method:"post",data:t})}function G(t){return Object(n["b"])({url:"/v1/platform/web/iot/activeDevice/logCount",method:"post",data:t})}function D(t){return Object(n["b"])({url:"/v1/platform/web/open/product/funcList",method:"get",params:t})}function E(t){return Object(n["b"])({url:"/v1/platform/web/iot/activeDevice/detail/".concat(t),method:"get"})}function P(){return Object(n["b"])({url:"/v1/platform/web/pm/networkGuide/GetDefaultNetworkGuides",method:"get"})}function S(t){return Object(n["b"])({url:"/v1/platform/web/pm/controlPanel/list",method:"post",data:t})}function F(t){return Object(n["b"])({url:"/v1/platform/web/pm/controlPanel/delete/".concat(t),method:"post",data:{id:t}})}function T(t){return Object(n["b"])({url:"/v1/platform/web/pm/controlPanel/add",method:"post",data:t,timeout:3e5})}function N(t){return Object(n["b"])({url:"/v1/platform/web/pm/controlPanel/edit",method:"post",data:t,timeout:3e5})}function V(t){return Object(n["b"])({url:"/v1/platform/web/pm/controlPanel/detail/".concat(t),method:"get"})}function J(t){return Object(n["b"])({url:"/v1/platform/web/pm/controlPanel/setStatus",method:"post",data:t})}function B(t){return Object(n["b"])({url:"/v1/platform/web/pm/product/resetProductThingModels",method:"get",params:t})}}}]);