(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d9f23"],{"6a02":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("a-card",{attrs:{bordered:!1}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:48}},[e("a-col",t._b({},"a-col",t.aColFlex,!1),[e("a-form-item",[e("a-input",{attrs:{placeholder:"请输入模组名称",allowClear:!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.query.apply(null,arguments)}},model:{value:t.queryParam.query.moduleName,callback:function(e){t.$set(t.queryParam.query,"moduleName",e)},expression:"queryParam.query.moduleName"}})],1)],1),e("a-col",t._b({},"a-col",t.aColFlex,!1),[e("span",{staticClass:"table-page-search-submitButtons"},[e("a-button",{attrs:{icon:"search",type:"primary"},on:{click:t.query}},[t._v(" 查询 ")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-button",{attrs:{icon:"redo"},on:{click:t.reset}},[t._v(" 重置 ")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(e){return t.handleAdd()}}},[t._v(" "+t._s(t.$t("public.add"))+" ")])],1)])],1)],1)],1),e("a-table",{attrs:{size:"small",rowKey:"id","data-source":t.dataSource,columns:t.columns,loading:t.loading,pagination:t.pagination},on:{change:t.onChangePagination},scopedSlots:t._u([{key:"moduleName",fn:function(a,i){return[e("div",{staticClass:"link-a",on:{click:function(e){return t.handleEdit(i.id,"details")}}},[t._v(" "+t._s(i.moduleName)+" ")])]}},{key:"imgUrl",fn:function(t,a){return[e("a-image",{attrs:{src:a.imgUrl}})]}},{key:"action",fn:function(a,i){return[e("a-button",{attrs:{type:"link",size:"small",icon:"edit"},on:{click:function(e){return t.handleEdit(i.id,"edit")}}},[t._v(" "+t._s(t.$t("public.edit"))+" ")]),2===i.status?e("a-divider",{attrs:{type:"vertical"}}):t._e(),2===i.status?e("a-button",{attrs:{type:"link",size:"small",icon:"setting"},on:{click:function(e){return t.setChipStatus(i)}}},[t._v(" 启用 ")]):t._e(),1===i.status?e("a-divider",{attrs:{type:"vertical"}}):t._e(),1===i.status?e("a-button",{attrs:{type:"link",size:"small",icon:"setting"},on:{click:function(e){return t.setChipStatus(i)}}},[t._v(" 停用 ")]):t._e()]}}])}),e("form-modal",{ref:"formModal",on:{ok:t.queryList}})],1)},n=[],r=(a("99af"),a("d3b7"),a("c4c8")),o=a("6ace"),s={name:"Chip",components:{"form-modal":o["default"]},data:function(){return{isInit:!1,pagination:{showSizeChanger:!0,current:1,pageSize:10,total:0,showTotal:function(t,e){return"总数:".concat(t," 当前:").concat(e[0],"-").concat(e[1])}},queryParam:{page:1,limit:10,query:{}},columns:[{title:"序号",width:"46px",customRender:function(t,e,a){return a+1}},{dataIndex:"moduleName",title:"模组名称",scopedSlots:{customRender:"moduleName"}},{dataIndex:"imgUrl",title:"图片",width:"80px",scopedSlots:{customRender:"imgUrl"}},{dataIndex:"firmwareTypeName",title:"固件类型"},{dataIndex:"firmwareFlag",title:"固件标识"},{dataIndex:"firmwareId",title:"固件key"},{title:"操作",key:"action",align:"center",width:"170px",scopedSlots:{customRender:"action"}}],dataSource:[],loading:!1}},created:function(){this.isInit=!0,this.queryList()},activated:function(){this.isInit?this.isInit=!1:this.queryList()},methods:{setChipStatus:function(t){var e=this,a="",i=null;2==t.status?(i=1,a="是否启用芯片模组"):(i=2,a="是否停用芯片模组"),this.$UpdateStatus(this,a).then((function(a){Object(r["K"])({id:t.id,status:i}).then((function(t){0===t.code&&e.queryList(),e.toast(t)}))}))},onChangePagination:function(t){this.queryParam.page=t.current,this.queryParam.limit=t.pageSize,this.pagination.current=t.current,this.pagination.pageSize=t.pageSize,this.queryList()},query:function(){this.queryParam.page=1,this.pagination.current=1,this.queryList()},reset:function(){this.queryParam={page:1,limit:this.queryParam.limit,query:{}},this.pagination.current=1,this.queryList()},queryList:function(){var t=this;this.loading=!0,Object(r["s"])(this.queryParam).then((function(e){0==e.code?(t.dataSource=e.data.list,t.pagination.total=e.data.total):t.dataSource=[]})).finally((function(){t.loading=!1}))},handleEdit:function(t,e){this.$refs["formModal"].init(e,t)},handleAdd:function(){this.$refs["formModal"].init("add","")},handleDelete:function(t){var e=this;this.$Delete(this,"").then((function(a){Object(r["g"])({id:t}).then((function(t){e.toast(t),e.queryList()}))}))}}},u=s,c=a("2877"),l=Object(c["a"])(u,i,n,!1,null,"1c78406b",null);e["default"]=l.exports}}]);