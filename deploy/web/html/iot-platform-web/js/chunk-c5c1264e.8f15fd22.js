(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5c1264e"],{8916:function(t,a,e){"use strict";e.d(a,"a",(function(){return i})),e.d(a,"b",(function(){return r}));var n=e("b775");function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:"/v1/platform/web/log/app/userList",method:"post",data:t})}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:"/v1/platform/web/log/app/recordsList",method:"post",data:t})}},b5ad:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t._self._c;return a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",t._b({},"a-col",t.aColFlex,!1),[a("a-form-item",[a("a-input",{attrs:{placeholder:"请输入APP用户账号",allowClear:!0},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.query.apply(null,arguments)}},model:{value:t.queryParam.query.account,callback:function(a){t.$set(t.queryParam.query,"account",a)},expression:"queryParam.query.account"}})],1)],1),a("a-col",t._b({},"a-col",t.aColFlex,!1),[a("a-form-item",[a("a-input",{attrs:{placeholder:"请输入APP名称",allowClear:!0},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.query.apply(null,arguments)}},model:{value:t.queryParam.query.appName,callback:function(a){t.$set(t.queryParam.query,"appName",a)},expression:"queryParam.query.appName"}})],1)],1),a("a-col",t._b({},"a-col",t.aColFlex,!1),[a("a-form-item",[a("a-input",{attrs:{placeholder:"中国大陆",disabled:""},model:{value:t.queryParam.query.region,callback:function(a){t.$set(t.queryParam.query,"region",a)},expression:"queryParam.query.region"}})],1)],1),a("a-col",t._b({},"a-col",t.aColFlex,!1),[a("span",{staticClass:"table-page-search-submitButtons"},[a("a-button",{attrs:{icon:"search",type:"primary"},on:{click:t.query}},[t._v(" 查询 ")]),a("a-divider",{attrs:{type:"vertical"}}),a("a-button",{attrs:{icon:"redo"},on:{click:t.reset}},[t._v(" 重置 ")])],1)])],1)],1)],1),a("a-table",{attrs:{size:"small",rowKey:"id","data-source":t.dataSource,columns:t.columns,loading:t.loading,pagination:t.pagination},on:{change:t.onChangePagination},scopedSlots:t._u([{key:"loginTime",fn:function(a,e){return[t._v(" "+t._s(t._f("momentFilter")(e.loginTime))+" ")]}},{key:"account",fn:function(e,n){return[a("div",{staticClass:"link-a",on:{click:function(a){return t.linkToPage("/log/app-log/details",n)}}},[t._v(" "+t._s(n.account)+" ")])]}}])})],1)},i=[],r=(e("99af"),e("d3b7"),e("8916")),o={name:"AppLog",data:function(){return{isInit:!1,pagination:{showSizeChanger:!0,current:1,pageSize:10,total:0,showTotal:function(t,a){return"总数:".concat(t," 当前:").concat(a[0],"-").concat(a[1])}},queryParam:{page:1,limit:10,query:{}},columns:[{title:"序号",width:"80px",customRender:function(t,a,e){return e+1}},{dataIndex:"account",title:"用户账号",scopedSlots:{customRender:"account"}},{dataIndex:"appName",title:"APP名称"},{dataIndex:"region",title:"服务区"},{dataIndex:"loginTime",title:"最后一次登录",scopedSlots:{customRender:"loginTime"}}],dataSource:[],loading:!1}},computed:{},created:function(){this.isInit=!0,this.queryList()},activated:function(){this.isInit?this.isInit=!1:this.queryList()},methods:{onChangePagination:function(t){this.queryParam.page=t.current,this.queryParam.limit=t.pageSize,this.pagination.current=t.current,this.pagination.pageSize=t.pageSize,this.queryList()},query:function(){this.queryParam.page=1,this.pagination.current=1,this.queryList()},reset:function(){this.queryParam={page:1,limit:this.queryParam.limit,query:{}},this.pagination.current=1,this.queryList()},queryList:function(){var t=this;this.loading=!0,Object(r["a"])(this.queryParam).then((function(a){0===a.code&&(t.dataSource=a.data.list,t.pagination.total=a.data.total)})).finally((function(){t.loading=!1}))},linkToPage:function(t,a){this.$routerPush({path:t,query:a,name:"AppLogDetails"})}}},u=o,l=e("2877"),c=Object(l["a"])(u,n,i,!1,null,"20694ede",null);a["default"]=c.exports}}]);