(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01f18d17","chunk-2d0cb6c5"],{1680:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("a-card",{attrs:{bordered:!1}},[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"}},[t("a-row",{attrs:{gutter:48}},[t("a-col",e._b({},"a-col",e.aColFlex,!1),[t("a-form-item",[t("a-select",{attrs:{placeholder:"请输入所属业务模块",allowClear:!0},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.query.apply(null,arguments)}},model:{value:e.queryParam.sourceTable,callback:function(t){e.$set(e.queryParam,"sourceTable",t)},expression:"queryParam.sourceTable"}},e._l(e.$DictList("lang_source_table"),(function(a){return t("a-select-option",{key:a.key,attrs:{value:a.key}},[e._v(" "+e._s(a.label)+" ")])})),1)],1)],1),t("a-col",e._b({},"a-col",e.aColFlex,!1),[t("a-form-item",[t("a-input",{attrs:{placeholder:"请输入语言key值",allowClear:!0},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.query.apply(null,arguments)}},model:{value:e.queryParam.sourceRowId,callback:function(t){e.$set(e.queryParam,"sourceRowId",t)},expression:"queryParam.sourceRowId"}})],1)],1),t("a-col",e._b({},"a-col",e.aColFlex,!1),[t("span",{staticClass:"table-page-search-submitButtons"},[t("a-button",{attrs:{icon:"search",type:"primary"},on:{click:e.query}},[e._v(" 查询 ")]),t("a-divider",{attrs:{type:"vertical"}}),t("a-button",{attrs:{icon:"redo"},on:{click:e.reset}},[e._v(" 重置 ")])],1)])],1)],1)],1),t("a-table",{attrs:{size:"small",rowKey:"langKey","data-source":e.dataSource,columns:e.columns,loading:e.loading,pagination:e.pagination},on:{change:e.onChangePagination},scopedSlots:e._u([{key:"action",fn:function(a,n){return[t("a-button",{attrs:{type:"link",size:"small",icon:"setting"},on:{click:function(t){return e.$refs["formModal"].init(n.sourceRowId,n.sourceTable,n.fieldName)}}},[e._v(" 修改文案 ")])]}}])}),t("form-modal",{ref:"formModal",on:{ok:e.queryList}})],1)},i=[],o=(a("99af"),a("d3b7"),a("9ea0")),r=a("4a35"),l={name:"DataLanguage",components:{"form-modal":r["default"]},data:function(){return{isInit:!1,queryParam:{page:1,limit:10,platformType:1},pagination:{showSizeChanger:!0,current:1,pageSize:10,total:0,showTotal:function(e,t){return"总数:".concat(e," 当前:").concat(t[0],"-").concat(t[1])}},columns:[{dataIndex:"sourceRowId",title:"语言key值",scopedSlots:{customRender:"sourceRowId"}},{dataIndex:"name",title:"简体中文",scopedSlots:{customRender:"name"}},{dataIndex:"nameEn",title:"英文",scopedSlots:{customRender:"nameEn"}},{title:"操作",key:"action",align:"center",width:"80px",scopedSlots:{customRender:"action"}}],dataSource:[],loading:!1}},created:function(){this.isInit=!0,this.queryList()},activated:function(){this.isInit?this.isInit=!1:this.queryList()},methods:{query:function(){this.queryParam.page=1,this.pagination.current=1,this.queryList()},reset:function(){this.queryParam={page:1,limit:this.queryParam.limit,platformType:1},this.pagination.current=1,this.queryList()},queryList:function(){var e=this;this.loading=!0,Object(o["a"])(this.queryParam).then((function(t){0===t.code&&(e.dataSource=t.data.list,e.pagination.total=t.data.total)})).finally((function(){e.loading=!1}))},onChangePagination:function(e){this.queryParam.page=e.current,this.queryParam.limit=e.pageSize,this.pagination.current=e.current,this.pagination.pageSize=e.pageSize,this.queryList()}}},s=l,c=a("2877"),u=Object(c["a"])(s,n,i,!1,null,"372f57cb",null);t["default"]=u.exports},"4a35":function(e,t,a){"use strict";a.r(t);a("b0c0");var n=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{width:640,title:e.title,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel},scopedSlots:e._u([{key:"footer",fn:function(){return[t("a-button",{key:"back",on:{click:e.handleCancel}},[e._v("取消")]),t("a-divider",{attrs:{type:"vertical"}}),t("a-button",{key:"submit",attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.handleOk}},[e._v(" 确定 ")])]},proxy:!0}])},[t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules}},[t("a-form-model-item",{attrs:{"label-col":e.labelCol,"wrapper-col":e.wrapperCol,label:"语言key"}},[t("div",[e._v(e._s(e.form.sourceRowId))])]),e._l(e.form.translateList,(function(a,n){return t("a-form-model-item",{key:a.lang,attrs:{label:a.name,prop:"translateList.".concat(n,".fieldValue"),"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[t("a-input",{attrs:{maxLength:50},model:{value:a.fieldValue,callback:function(t){e.$set(a,"fieldValue",t)},expression:"v.fieldValue"}})],1)}))],2)],1)],1)},i=[],o=a("5530"),r=(a("d3b7"),a("d81d"),a("2f62")),l=a("9ea0"),s={data:function(){return{title:"",visible:!1,confirmLoading:!1,form:{sourceRowId:"",translateList:[]},labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}},rules:{"translateList.0.fieldValue":[{required:!0,message:"请输入文本内容"}]}}},computed:Object(o["a"])({},Object(r["c"])(["langTypeList"])),methods:{init:function(e,t,a){var n=this;this.visible=!0,this.title="修改文案",this.confirmLoading=!0,Object(l["b"])({sourceTable:t,sourceRowId:e,fieldName:a}).then((function(i){if(0===i.code){var o=n.langTypeList.map((function(e){var t={lang:e.code,name:e.name,fieldName:a,fieldValue:""};return i.data.some((function(a){if(a.lang===e.code)return t.fieldValue=a.fieldValue,!0})),t}));n.form={sourceRowId:e,sourceTable:t,translateList:o}}})).finally((function(){n.confirmLoading=!1}))},handleOk:function(){var e=this;this.$refs["ruleForm"].validate((function(t){t&&(e.visible=!1,e.confirmLoading=!0,Object(l["d"])(e.form).then((function(t){e.toast(t),0===t.code&&(e.visible=!1,e.$refs["ruleForm"]&&e.$refs["ruleForm"].resetFields(),e.$emit("ok"))})).finally((function(){e.confirmLoading=!1})))}))},handleCancel:function(){this.visible=!1,this.$refs["ruleForm"]&&this.$refs["ruleForm"].resetFields()}}},c=s,u=a("2877"),d=Object(u["a"])(c,n,i,!1,null,"7f329ce8",null);t["default"]=d.exports}}]);