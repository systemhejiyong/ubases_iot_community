(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-171e517d","chunk-2d0c037f"],{"419e":function(t,e,a){"use strict";a.r(e);a("b0c0");var o=function(){var t=this,e=t._self._c;return e("div",[e("a-modal",{attrs:{width:"960px",title:t.title,visible:t.visible,confirmLoading:t.confirmLoading},on:{cancel:t.handleCancel},scopedSlots:t._u([{key:"footer",fn:function(){return[e("a-button",{key:"back",on:{click:t.handleCancel}},[t._v("取消")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-button",{key:"submit",attrs:{type:"primary",loading:t.confirmLoading},on:{click:t.handleOk}},[t._v(" 确定 ")])]},proxy:!0}])},[e("a-spin",{attrs:{spinning:t.confirmLoading}},[e("a-form-model",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules}},[e("a-row",[e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{"label-col":t.two.labelCol,"wrapper-col":t.two.wrapperCol,label:t.$t("authorityAdm.munu.PreviousMenu")}},[e("a-tree-select",{staticStyle:{width:"100%"},attrs:{replaceFields:t.replaceFields,"tree-data":t.treeData,"dropdown-style":{maxHeight:"400px",overflow:"auto"},"allow-clear":"","tree-default-expand-all":"",disabled:t.formDisabled,placeholder:"请选择上级菜单"},model:{value:t.form.parentId,callback:function(e){t.$set(t.form,"parentId",e)},expression:"form.parentId"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{"label-col":t.two.labelCol,"wrapper-col":t.two.wrapperCol,label:t.$t("authorityAdm.munu.icon"),prop:"icon"}},[t.form.icon?e("div",{staticClass:"aithings-microcheiria",on:{click:t.selectIcon}},[e("icon-font",{staticStyle:{"font-size":"18px"},attrs:{type:t.form.icon}})],1):e("a-button",{attrs:{type:"link"},on:{click:t.selectIcon}},[t._v(" 选择图标 ")])],1)],1)],1),e("a-row",[e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{"label-col":t.two.labelCol,"wrapper-col":t.two.wrapperCol,label:t.$t("authorityAdm.munu.type"),prop:"menuType"}},[e("a-radio-group",{attrs:{disabled:t.formDisabled},model:{value:t.form.menuType,callback:function(e){t.$set(t.form,"menuType",e)},expression:"form.menuType"}},t._l(t.$DictList("menu_type"),(function(a){return e("a-radio",{key:a.key,attrs:{value:a.key}},[t._v(" "+t._s(a.label)+" ")])})),1)],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{"label-col":t.two.labelCol,"wrapper-col":t.two.wrapperCol,label:t.$t("authorityAdm.munu.status"),prop:"status"}},[e("a-radio-group",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.$DictList("web_status"),(function(a){return e("a-radio",{key:a.key,attrs:{value:a.key}},[t._v(" "+t._s(a.label)+" ")])})),1)],1)],1)],1),e("a-row",[e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{"label-col":t.two.labelCol,"wrapper-col":t.two.wrapperCol,label:t.$t("authorityAdm.munu.menuName"),prop:"title"}},[e("a-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{"label-col":t.two.labelCol,"wrapper-col":t.two.wrapperCol,label:t.$t("authorityAdm.munu.showSort"),prop:"weigh"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:1,max:999,precision:0,placeholder:"请输入排序, 1~999"},model:{value:t.form.weigh,callback:function(e){t.$set(t.form,"weigh",e)},expression:"form.weigh"}})],1)],1)],1),e("a-row",[e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{"label-col":t.two.labelCol,"wrapper-col":t.two.wrapperCol,label:t.$t("authorityAdm.munu.isFrame"),prop:"isFrame"}},[e("a-radio-group",{model:{value:t.form.isFrame,callback:function(e){t.$set(t.form,"isFrame",e)},expression:"form.isFrame"}},t._l(t.$DictList("yes_no"),(function(a){return e("a-radio",{key:a.key,attrs:{value:a.key}},[t._v(" "+t._s(a.label)+" ")])})),1)],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{"label-col":t.two.labelCol,"wrapper-col":t.two.wrapperCol,label:t.$t("authorityAdm.munu.visible"),prop:"visible"}},[e("a-radio-group",{model:{value:t.form.visible,callback:function(e){t.$set(t.form,"visible",e)},expression:"form.visible"}},t._l(t.$DictList("display_status"),(function(a){return e("a-radio",{key:a.key,attrs:{value:a.key}},[t._v(" "+t._s(a.label)+" ")])})),1)],1)],1)],1),e("a-row",[e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{"label-col":t.two.labelCol,"wrapper-col":t.two.wrapperCol,label:t.$t("authorityAdm.munu.name"),prop:"name"}},[e("a-input",{attrs:{placeholder:"请输入权限标识"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{"label-col":t.two.labelCol,"wrapper-col":t.two.wrapperCol,label:t.$t("authorityAdm.munu.path"),prop:"path"}},[e("a-input",{attrs:{placeholder:"请输入路由地址"},model:{value:t.form.path,callback:function(e){t.$set(t.form,"path",e)},expression:"form.path"}})],1)],1)],1),1!=t.form.isFrame?e("a-row",[e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{"label-col":t.two.labelCol,"wrapper-col":t.two.wrapperCol,label:t.$t("authorityAdm.munu.component"),prop:"component"}},[e("a-input",{attrs:{placeholder:"请输入组件路径"},model:{value:t.form.component,callback:function(e){t.$set(t.form,"component",e)},expression:"form.component"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{"label-col":t.two.labelCol,"wrapper-col":t.two.wrapperCol,label:"重定向",prop:"jumpPath"}},[e("a-input",{attrs:{placeholder:"请输入重定向地址"},model:{value:t.form.jumpPath,callback:function(e){t.$set(t.form,"jumpPath",e)},expression:"form.jumpPath"}})],1)],1)],1):t._e(),e("a-row",[e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{"label-col":t.two.labelCol,"wrapper-col":t.two.wrapperCol,label:"是否隐藏子菜单"}},[e("a-radio-group",{model:{value:t.form.isHideChildMenu,callback:function(e){t.$set(t.form,"isHideChildMenu",e)},expression:"form.isHideChildMenu"}},t._l(t.$DictList("yes_no"),(function(a){return e("a-radio",{key:a.key,attrs:{value:a.key}},[t._v(" "+t._s(a.label)+" ")])})),1)],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{"label-col":t.two.labelCol,"wrapper-col":t.two.wrapperCol,label:"是否缓存"}},[e("a-radio-group",{model:{value:t.form.isCache,callback:function(e){t.$set(t.form,"isCache",e)},expression:"form.isCache"}},t._l(t.$DictList("yes_no"),(function(a){return e("a-radio",{key:a.key,attrs:{value:a.key}},[t._v(" "+t._s(a.label)+" ")])})),1)],1)],1)],1)],1)],1)],1),e("a-modal",{attrs:{title:this.$t("public.select_icon"),width:"800px"},scopedSlots:t._u([{key:"footer",fn:function(){},proxy:!0}]),model:{value:t.iconVisible,callback:function(e){t.iconVisible=e},expression:"iconVisible"}},[e("icon-selector",{attrs:{zIndex:"2000",width:"100%",loadType:["brand_logo","application","editor","data"]},on:{change:t.handleIconChange},model:{value:t.form.icon,callback:function(e){t.$set(t.form,"icon",e)},expression:"form.icon"}})],1)],1)},i=[],r=a("c7eb"),n=a("5530"),l=a("1da1"),s=a("2af9"),c=a("fd85"),u=a("61f7"),m={components:{"icon-selector":s["a"]},data:function(){return{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}},two:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},confirmLoading:!1,visible:!1,form:{},rules:{menuType:Object(u["d"])(this.$t("authorityAdm.munu.inputInfo1"),"number"),icon:Object(u["d"])(this.$t("authorityAdm.munu.inputInfo2")),name:Object(u["c"])(this.$t("authorityAdm.munu.inputInfo3")),title:Object(u["c"])(this.$t("authorityAdm.munu.inputInfo4")),weigh:Object(u["d"])(this.$t("authorityAdm.munu.inputInfo5"),"number"),isFrame:Object(u["d"])(this.$t("authorityAdm.munu.inputInfo6"),"number"),visible:Object(u["d"])(this.$t("authorityAdm.munu.inputInfo7"),"number"),status:Object(u["d"])(this.$t("authorityAdm.munu.inputInfo8"),"number"),path:Object(u["c"])(this.$t("authorityAdm.munu.inputInfo9")),component:Object(u["c"])(this.$t("authorityAdm.munu.inputInfo11")),jumpPath:Object(u["b"])()},title:"",treeData:[],replaceFields:{children:"children",title:"title",key:"id",value:"id"},iconVisible:!1,formDisabled:!1}},mounted:function(){},methods:{init:function(t,e,a){var o=this;return Object(l["a"])(Object(r["a"])().mark((function i(){var l,s;return Object(r["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(o.treeData=t,o.visible=!0,o.formDisabled=!1,o.$refs["ruleForm"]&&o.$refs["ruleForm"].clearValidate(),o.form={parentId:void 0,menuType:0,icon:"",name:"",title:"",weigh:"",isFrame:2,visible:1,status:1,path:"",jumpPath:"",component:"",isHideChildMenu:2,isCache:2,moduleType:"sys_admin"},o.title=o.$t("authorityAdm.munu.add"),"addChildren"==a&&(o.form.menuType=1,o.form.parentId=e,o.formDisabled=!0),"edit"!=a){i.next=16;break}return o.title=o.$t("authorityAdm.munu.edit"),o.confirmLoading=!0,o.formDisabled=!0,i.next=13,Object(c["x"])({menuId:e});case 13:l=i.sent,0===l.code&&(s=l.data,"0"==s.parentId&&(s.parentId=void 0),o.form=Object(n["a"])(Object(n["a"])({},s),{},{menuId:s.id})),o.confirmLoading=!1;case 16:case"end":return i.stop()}}),i)})))()},selectIcon:function(){this.iconVisible=!0},handleIconChange:function(t){this.form.icon=t,this.$refs["ruleForm"]&&this.$refs["ruleForm"].clearValidate(["icon"]),this.iconVisible=!1},handleCancel:function(){this.visible=!1},handleOk:function(){var t=this;this.$refs["ruleForm"].validate(function(){var e=Object(l["a"])(Object(r["a"])().mark((function e(a){var o;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(t.confirmLoading=!0,void 0==t.form.parentId&&(t.form.parentId="0"),t.form.menuId){e.next=10;break}return e.next=7,Object(c["a"])(t.form);case 7:o=e.sent,e.next=13;break;case 10:return e.next=12,Object(c["p"])(t.form);case 12:o=e.sent;case 13:t.confirmLoading=!1,t.toast(o),0===o.code&&(t.$emit("update"),t.visible=!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},d=m,p=a("2877"),f=Object(p["a"])(d,o,i,!1,null,"007a6a4e",null);e["default"]=f.exports},d4e2:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"aithings-cloud-menu"},[e("a-card",{attrs:{bordered:!1}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:16}},[e("a-col",t._b({},"a-col",t.aColFlex,!1),[e("a-form-item",[e("a-input",{attrs:{allowClear:"",placeholder:t.$t("authorityAdm.munu.inputName")},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.queryList.apply(null,arguments)}},model:{value:t.queryParam.menuName,callback:function(e){t.$set(t.queryParam,"menuName",e)},expression:"queryParam.menuName"}})],1)],1),e("a-col",t._b({},"a-col",t.aColFlex,!1),[e("span",{staticClass:"table-page-search-submitButtons"},[e("a-button",{attrs:{icon:"search",type:"primary"},on:{click:t.queryList}},[t._v(" "+t._s(t.$t("public.search"))+" ")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.handleNew}},[t._v(" "+t._s(t.$t("public.add"))+" ")])],1)])],1)],1)],1),e("a-table",{attrs:{size:"small",rowKey:"id",pagination:t.pagination,"data-source":t.dataSource,columns:t.columns,loading:t.loading},scopedSlots:t._u([{key:"title",fn:function(a,o){return[e("span",{staticStyle:{padding:"0 20px 0 10px"}},[o?e("icon-font",{staticClass:"aithings-microcheiria",attrs:{type:o.icon}}):t._e()],1),o?e("span",[t._v(" "+t._s(o.title)+" ")]):t._e()]}},{key:"menuType",fn:function(e,a){return[t._v(" "+t._s(t.$DictName("menu_type",a.menuType))+" ")]}},{key:"status",fn:function(a,o){return[e("span",[t._v(t._s(t.$DictName("web_status",o.status)))])]}},{key:"action",fn:function(a,o){return[e("a-button",{attrs:{type:"link",size:"small",icon:"edit"},on:{click:function(e){return t.handleEdit(o.id)}}},[t._v(" "+t._s(t.$t("public.edit"))+" ")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-button",{attrs:{type:"link",size:"small",icon:"delete"},on:{click:function(e){return t.handleDel(o.id)}}},[t._v(" "+t._s(t.$t("public.delete"))+" ")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-button",{attrs:{type:"link",size:"small",icon:"plus",disabled:1===o.isFrame},on:{click:function(e){return t.handleNew(o)}}},[t._v(" "+t._s(t.$t("authorityAdm.munu.addChildrenMenu"))+" ")])]}}])})],1),e("form-modal",{ref:"formModal",on:{update:t.queryList}})],1)},i=[],r=(a("d3b7"),a("159b"),a("fd85")),n=a("419e"),l={name:"CloudMenu",components:{"form-modal":n["default"]},data:function(){return{isInit:!1,queryParam:{menuName:""},pagination:!1,columns:[{title:this.$t("authorityAdm.munu.title"),dataIndex:"title",width:"240px",scopedSlots:{customRender:"title"}},{title:this.$t("authorityAdm.munu.permissionIde"),dataIndex:"name",ellipsis:!0},{title:this.$t("authorityAdm.munu.permissionType"),dataIndex:"menuType",scopedSlots:{customRender:"menuType"}},{title:this.$t("authorityAdm.munu.sort"),dataIndex:"weigh"},{title:this.$t("authorityAdm.munu.component"),dataIndex:"component",ellipsis:!0},{title:this.$t("authorityAdm.munu.status"),dataIndex:"status",scopedSlots:{customRender:"status"}},{title:this.$t("public.action"),dataIndex:"action",align:"center",width:"290px",scopedSlots:{customRender:"action"}}],dataSource:[],loading:!1}},created:function(){this.isInit=!0,this.queryList()},activated:function(){this.isInit?this.isInit=!1:this.queryList()},methods:{queryList:function(){var t=this;this.loading=!0,Object(r["y"])(this.queryParam).then((function(e){0==e.code?(t.childrenToNull(e.data||[]),t.dataSource=e.data):t.dataSource=[]})).finally((function(){t.loading=!1}))},childrenToNull:function(t){var e=this;t.forEach((function(t){t.children&&t.children.length?e.childrenToNull(t.children):t.children=null}))},handleNew:function(t){t.id?this.$refs.formModal.init(this.dataSource,t.id,"addChildren"):this.$refs.formModal.init(this.dataSource,"","add")},handleEdit:function(t){this.$refs.formModal.init(this.dataSource,t,"edit")},handleDel:function(t){var e=this;this.$Delete(this,"").then((function(a){Object(r["i"])({ids:[t]}).then((function(t){e.toast(t),e.queryList()}))}))}}},s=l,c=a("2877"),u=Object(c["a"])(s,o,i,!1,null,"29c6c282",null);e["default"]=u.exports}}]);