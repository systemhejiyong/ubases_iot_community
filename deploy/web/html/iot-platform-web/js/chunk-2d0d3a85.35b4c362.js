(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d3a85"],{"5e65":function(e,t,a){"use strict";a.r(t);a("b0c0");var o=function(){var e=this,t=e._self._c;return t("div",[t("a-modal",{attrs:{width:"960px",title:e.title,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel},scopedSlots:e._u([{key:"footer",fn:function(){return[t("a-button",{key:"back",on:{click:e.handleCancel}},[e._v("取消")]),t("a-divider",{attrs:{type:"vertical"}}),t("a-button",{key:"submit",attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.handleOk}},[e._v(" 确定 ")])]},proxy:!0}])},[t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules}},[t("a-row",[t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{"label-col":e.two.labelCol,"wrapper-col":e.two.wrapperCol,label:e.$t("authorityAdm.munu.PreviousMenu")}},[t("a-tree-select",{staticStyle:{width:"100%"},attrs:{replaceFields:e.replaceFields,"tree-data":e.treeData,"dropdown-style":{maxHeight:"400px",overflow:"auto"},"allow-clear":"","tree-default-expand-all":"",disabled:e.formDisabled,placeholder:"请选择上级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{"label-col":e.two.labelCol,"wrapper-col":e.two.wrapperCol,label:e.$t("authorityAdm.munu.icon"),prop:"icon"}},[e.form.icon?t("div",{staticClass:"aithings-microcheiria",on:{click:e.selectIcon}},[t("icon-font",{staticStyle:{"font-size":"18px"},attrs:{type:e.form.icon}})],1):t("a-button",{attrs:{type:"link"},on:{click:e.selectIcon}},[e._v(" 选择图标 ")])],1)],1)],1),t("a-row",[t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{"label-col":e.two.labelCol,"wrapper-col":e.two.wrapperCol,label:e.$t("authorityAdm.munu.type"),prop:"menuType"}},[t("a-radio-group",{attrs:{disabled:e.formDisabled},model:{value:e.form.menuType,callback:function(t){e.$set(e.form,"menuType",t)},expression:"form.menuType"}},e._l(e.$DictList("menu_type"),(function(a){return t("a-radio",{key:a.key,attrs:{value:a.key}},[e._v(" "+e._s(a.label)+" ")])})),1)],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{"label-col":e.two.labelCol,"wrapper-col":e.two.wrapperCol,label:e.$t("authorityAdm.munu.status"),prop:"status"}},[t("a-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.$DictList("web_status"),(function(a){return t("a-radio",{key:a.key,attrs:{value:a.key}},[e._v(" "+e._s(a.label)+" ")])})),1)],1)],1)],1),t("a-row",[t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{"label-col":e.two.labelCol,"wrapper-col":e.two.wrapperCol,label:e.$t("authorityAdm.munu.menuName"),prop:"title"}},[t("a-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{"label-col":e.two.labelCol,"wrapper-col":e.two.wrapperCol,label:e.$t("authorityAdm.munu.showSort"),prop:"weigh"}},[t("a-input-number",{staticStyle:{width:"100%"},attrs:{min:1,max:999,precision:0,placeholder:"请输入排序, 1~999"},model:{value:e.form.weigh,callback:function(t){e.$set(e.form,"weigh",t)},expression:"form.weigh"}})],1)],1)],1),t("a-row",[t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{"label-col":e.two.labelCol,"wrapper-col":e.two.wrapperCol,label:e.$t("authorityAdm.munu.isFrame"),prop:"isFrame"}},[t("a-radio-group",{model:{value:e.form.isFrame,callback:function(t){e.$set(e.form,"isFrame",t)},expression:"form.isFrame"}},e._l(e.$DictList("yes_no"),(function(a){return t("a-radio",{key:a.key,attrs:{value:a.key}},[e._v(" "+e._s(a.label)+" ")])})),1)],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{"label-col":e.two.labelCol,"wrapper-col":e.two.wrapperCol,label:e.$t("authorityAdm.munu.visible"),prop:"visible"}},[t("a-radio-group",{model:{value:e.form.visible,callback:function(t){e.$set(e.form,"visible",t)},expression:"form.visible"}},e._l(e.$DictList("display_status"),(function(a){return t("a-radio",{key:a.key,attrs:{value:a.key}},[e._v(" "+e._s(a.label)+" ")])})),1)],1)],1)],1),t("a-row",[t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{"label-col":e.two.labelCol,"wrapper-col":e.two.wrapperCol,label:e.$t("authorityAdm.munu.name"),prop:"name"}},[t("a-input",{attrs:{placeholder:"请输入权限标识"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{"label-col":e.two.labelCol,"wrapper-col":e.two.wrapperCol,label:e.$t("authorityAdm.munu.path"),prop:"path"}},[t("a-input",{attrs:{placeholder:"请输入路由地址"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1)],1)],1),1!=e.form.isFrame?t("a-row",[t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{"label-col":e.two.labelCol,"wrapper-col":e.two.wrapperCol,label:e.$t("authorityAdm.munu.component"),prop:"component"}},[t("a-input",{attrs:{placeholder:"请输入组件路径"},model:{value:e.form.component,callback:function(t){e.$set(e.form,"component",t)},expression:"form.component"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{"label-col":e.two.labelCol,"wrapper-col":e.two.wrapperCol,label:"重定向",prop:"jumpPath"}},[t("a-input",{attrs:{placeholder:"请输入重定向地址"},model:{value:e.form.jumpPath,callback:function(t){e.$set(e.form,"jumpPath",t)},expression:"form.jumpPath"}})],1)],1)],1):e._e(),t("a-row",[t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{"label-col":e.two.labelCol,"wrapper-col":e.two.wrapperCol,label:"是否隐藏子菜单"}},[t("a-radio-group",{model:{value:e.form.isHideChildMenu,callback:function(t){e.$set(e.form,"isHideChildMenu",t)},expression:"form.isHideChildMenu"}},e._l(e.$DictList("yes_no"),(function(a){return t("a-radio",{key:a.key,attrs:{value:a.key}},[e._v(" "+e._s(a.label)+" ")])})),1)],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{"label-col":e.two.labelCol,"wrapper-col":e.two.wrapperCol,label:"是否缓存"}},[t("a-radio-group",{model:{value:e.form.isCache,callback:function(t){e.$set(e.form,"isCache",t)},expression:"form.isCache"}},e._l(e.$DictList("yes_no"),(function(a){return t("a-radio",{key:a.key,attrs:{value:a.key}},[e._v(" "+e._s(a.label)+" ")])})),1)],1)],1)],1)],1)],1)],1),t("a-modal",{attrs:{title:this.$t("public.select_icon"),width:"800px"},scopedSlots:e._u([{key:"footer",fn:function(){},proxy:!0}]),model:{value:e.iconVisible,callback:function(t){e.iconVisible=t},expression:"iconVisible"}},[t("icon-selector",{attrs:{zIndex:"2000",width:"100%",loadType:["brand_logo","application","editor","data","iconfont"]},on:{change:e.handleIconChange},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1)],1)},r=[],l=a("c7eb"),n=a("5530"),i=a("1da1"),s=a("2af9"),c=a("fd85"),m=a("61f7"),u={components:{"icon-selector":s["a"]},data:function(){return{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}},two:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},confirmLoading:!1,visible:!1,form:{},rules:{menuType:Object(m["d"])(this.$t("authorityAdm.munu.inputInfo1"),"number"),icon:Object(m["d"])(this.$t("authorityAdm.munu.inputInfo2")),name:Object(m["c"])(this.$t("authorityAdm.munu.inputInfo3")),title:Object(m["c"])(this.$t("authorityAdm.munu.inputInfo4")),weigh:Object(m["d"])(this.$t("authorityAdm.munu.inputInfo5"),"number"),isFrame:Object(m["d"])(this.$t("authorityAdm.munu.inputInfo6"),"number"),visible:Object(m["d"])(this.$t("authorityAdm.munu.inputInfo7"),"number"),status:Object(m["d"])(this.$t("authorityAdm.munu.inputInfo8"),"number"),path:Object(m["d"])(this.$t("authorityAdm.munu.inputInfo9")),component:Object(m["d"])(this.$t("authorityAdm.munu.inputInfo11")),jumpPath:Object(m["b"])()},title:"",treeData:[],replaceFields:{children:"children",title:"title",key:"id",value:"id"},iconVisible:!1,formDisabled:!1}},mounted:function(){},methods:{init:function(e,t,a){var o=this;return Object(i["a"])(Object(l["a"])().mark((function r(){var i,s;return Object(l["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o.treeData=e,o.visible=!0,o.formDisabled=!1,o.$refs["ruleForm"]&&o.$refs["ruleForm"].clearValidate(),o.form={parentId:void 0,menuType:0,icon:"",name:"",title:"",weigh:"",isFrame:2,visible:1,status:1,path:"",jumpPath:"",component:"",isHideChildMenu:2,isCache:2,moduleType:"sys_admin"},o.title=o.$t("authorityAdm.munu.add"),"addChildren"==a&&(o.form.menuType=1,o.form.parentId=t,o.formDisabled=!0),"edit"!=a){r.next=16;break}return o.title=o.$t("authorityAdm.munu.edit"),o.confirmLoading=!0,o.formDisabled=!0,r.next=13,Object(c["G"])({menuId:t});case 13:i=r.sent,0===i.code&&(s=i.data,"0"==s.parentId&&(s.parentId=void 0),o.form=Object(n["a"])(Object(n["a"])({},s),{},{menuId:s.id})),o.confirmLoading=!1;case 16:case"end":return r.stop()}}),r)})))()},selectIcon:function(){this.iconVisible=!0},handleIconChange:function(e){this.form.icon=e,this.$refs["ruleForm"]&&this.$refs["ruleForm"].clearValidate(["icon"]),this.iconVisible=!1},handleCancel:function(){this.visible=!1},handleOk:function(){var e=this;this.$refs["ruleForm"].validate(function(){var t=Object(i["a"])(Object(l["a"])().mark((function t(a){var o;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:if(e.confirmLoading=!0,void 0==e.form.parentId&&(e.form.parentId="0"),e.form.menuId){t.next=10;break}return t.next=7,Object(c["d"])(e.form);case 7:o=t.sent,t.next=13;break;case 10:return t.next=12,Object(c["s"])(e.form);case 12:o=t.sent;case 13:e.confirmLoading=!1,e.toast(o),0===o.code&&(e.$emit("update"),e.visible=!1);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},p=u,d=a("2877"),f=Object(d["a"])(p,o,r,!1,null,"3d201846",null);t["default"]=f.exports}}]);