(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40a33dc2"],{"4d65":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{title:t.title,width:840,visible:t.visible,"confirm-loading":t.confirmLoading},on:{cancel:t.handleCancel}},[e("a-spin",{attrs:{spinning:t.confirmLoading}},[e("a-form-model",{ref:"form",staticClass:"regular-form",attrs:{model:t.form,rules:t.rules}},[e("a-form-model-item",{attrs:{label:t.$t("helpCenter.editDoc.label.lang"),prop:"lang","label-col":{span:4},"wrapper-col":{span:13}}},[e("a-select",{attrs:{placeholder:t.$t("helpCenter.editDoc.placeholder.lang"),options:t.langList},on:{change:t.langChange},model:{value:t.form.lang,callback:function(e){t.$set(t.form,"lang",e)},expression:"form.lang"}})],1),e("a-form-model-item",{attrs:{label:t.$t("helpCenter.editDoc.label.title"),prop:"title","label-col":{span:4},"wrapper-col":{span:13}}},[e("a-input",{attrs:{disabled:t.readOnly,placeholder:t.$t("helpCenter.editDoc.placeholder.title"),maxLength:50},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),e("a-form-model-item",{attrs:{prop:"content",label:t.$t("helpCenter.editDoc.label.content"),"label-col":{span:4},"wrapper-col":{span:18}}},[e("section",{staticClass:"wrap"},[e("quill-editor",{attrs:{value:t.form.content||"",readOnly:t.readOnly},on:{change:t.editorChange}})],1)])],1)],1),e("template",{slot:"footer"},[e("a-button",{key:"cancel",on:{click:t.handleCancel}},[t._v(t._s(t.$t("public.cancel")))]),t.readOnly?t._e():e("a-button",{key:"submit",attrs:{type:"primary"},on:{click:t.handleOk}},[t._v(t._s(t.$t("public.save")))])],1)],2)},a=[],o=n("5530"),l=n("c7eb"),i=n("1da1"),c=n("4056"),u=n("898f"),s={name:"EditDoc",props:{visible:{type:Boolean,default:!1},productKey:{type:String,default:""},relationId:{type:String,default:""},readOnly:{type:Boolean,default:!1},title:{type:String,default:""},langList:{type:Array,default:[]}},components:{QuillEditor:c["a"]},data:function(){return{confirmLoading:!1,rules:{lang:[{required:!0,message:this.$t("helpCenter.editDoc.rules.lang"),trigger:"change"}],title:[{required:!0,message:this.$t("helpCenter.editDoc.rules.title"),trigger:"change"}],content:[{required:!0,message:this.$t("helpCenter.editDoc.rules.content"),trigger:"change"},{max:"10000",message:this.$t("helpCenter.editDoc.rules.content.word.limit"),trigger:"change"}]},form:{},currentLang:1}},watch:{visible:function(t){t&&(this.currentLang="zh",this.relationId&&this.getEntryDetail())}},mounted:function(){},methods:{getEntryDetail:function(){var t=this;return Object(i["a"])(Object(l["a"])().mark((function e(){var n,r;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={relationId:t.relationId,lang:t.currentLang},e.next=3,Object(u["f"])(n);case 3:if(r=e.sent,0===r.code){e.next=6;break}return e.abrupt("return");case 6:t.form=r.data;case 7:case"end":return e.stop()}}),e)})))()},editorChange:function(t){this.$set(this.form,"content",t)},langChange:function(t){this.currentLang=t,this.relationId&&this.getEntryDetail()},handleCancel:function(){var t;this.$emit("cancel"),this.form={},null===(t=this.$refs.form)||void 0===t||t.resetFields()},handleOk:function(){var t=this;this.$refs.form.validate(function(){var e=Object(i["a"])(Object(l["a"])().mark((function e(n){var r,a,i;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(t.confirmLoading=!0,a=Object(o["a"])(Object(o["a"])({status:2},t.form),{},{relationId:t.relationId,productKey:t.productKey}),!t.relationId){e.next=10;break}return e.next=7,Object(u["j"])(a);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,Object(u["a"])(a);case 12:e.t0=e.sent;case 13:if(i=e.t0,t.confirmLoading=!1,0===i.code){e.next=17;break}return e.abrupt("return");case 17:t.$emit("sumit"),t.form={},null===(r=t.$refs.form)||void 0===r||r.resetFields();case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},d=s,p=(n("f706"),n("2877")),f=Object(p["a"])(d,r,a,!1,null,"476aa893",null);e["default"]=f.exports},6317:function(t,e,n){},"898f":function(t,e,n){"use strict";n.d(e,"h",(function(){return a})),n.d(e,"e",(function(){return o})),n.d(e,"i",(function(){return l})),n.d(e,"c",(function(){return i})),n.d(e,"g",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return d})),n.d(e,"j",(function(){return p})),n.d(e,"d",(function(){return f}));var r=n("b775");function a(t){return Object(r["b"])({url:"/v1/platform/web/open/marketing/product/help/conf/list",method:"post",data:t})}function o(t){return Object(r["b"])({url:"/v1/platform/web/open/marketing/product/help/conf/detail",method:"get",params:t})}function l(t){return Object(r["b"])({url:"/v1/platform/web/open/marketing/product/help/conf/edit",method:"post",data:t})}function i(t){return Object(r["b"])({url:"/v1/platform/web/open/marketing/product/help/conf/set",method:"post",data:t})}function c(t){return Object(r["b"])({url:"/v1/platform/web/open/marketing/product/help/doc/list",method:"post",data:t})}function u(t){return Object(r["b"])({url:"/v1/platform/web/open/marketing/product/help/doc/detail",method:"get",params:t})}function s(t){return Object(r["b"])({url:"/v1/platform/web/open/marketing/product/help/doc/del",method:"post",data:t})}function d(t){return Object(r["b"])({url:"/v1/platform/web/open/marketing/product/help/doc/add",method:"post",data:t})}function p(t){return Object(r["b"])({url:"/v1/platform/web/open/marketing/product/help/doc/edit",method:"post",data:t})}function f(t){return Object(r["b"])({url:"/v1/platform/web/open/marketing/product/help/doc/set",method:"post",data:t})}},f706:function(t,e,n){"use strict";n("6317")}}]);