(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2eca1bb3"],{"0eeb":function(e,t,n){"use strict";n.r(t);n("b0c0");var i=function(){var e=this,t=e._self._c;return t("section",{staticClass:"container"},[t("section",{staticClass:"content-wrap flex x-space-between"},[t("section",{staticClass:"config-content"},[t("h4",[e._v(e._s(e.$t("optionalConfig.ThirdPartyService.title")))]),t("a-checkbox-group",{on:{change:e.handleChange},model:{value:e.thirdData,callback:function(t){e.thirdData=t},expression:"thirdData"}},e._l(e.serviceList,(function(n,i){return t("div",{key:i,staticClass:"card flex"},[t("section",{staticClass:"flex y-axis-center"},[t("a-checkbox",{attrs:{value:n.code}}),t("img",{staticClass:"image",attrs:{src:e.getImage(n)}}),t("span",{staticClass:"name"},[e._v(e._s(n.name))]),"appleid"==n.code?t("p",{staticClass:"apple-detail"},[e._v(e._s(e.$t("optionalConfig.ThirdPartyService.apple.detail")))]):e._e()],1),"appleid"!==n.code?t("section",{staticClass:"config-deatils"},[t("a-form-model",{ref:"form",refInFor:!0,staticClass:"form",attrs:{model:n,rules:e.rules,layout:"inline"}},["wechat"==n.code?t("a-form-model-item",{attrs:{label:"App ID",prop:"appId"}},[t("a-input",{attrs:{maxLength:50,placeholder:e.$t("optionalConfig.ThirdPartyService.placeholder.appId")},model:{value:n.appId,callback:function(t){e.$set(n,"appId",t)},expression:"item.appId"}})],1):e._e(),"wechat"==n.code?t("a-form-model-item",{attrs:{label:"App Secret",prop:"appKey"}},[t("a-input",{attrs:{maxLength:50,placeholder:e.$t("optionalConfig.ThirdPartyService.placeholder.appKey")},model:{value:n.appKey,callback:function(t){e.$set(n,"appKey",t)},expression:"item.appKey"}})],1):e._e(),"wechat"==n.code?t("a-form-model-item",{attrs:{label:"Universal Links",prop:"universalLink"}},[t("a-input",{attrs:{disabled:""},model:{value:n.universalLink,callback:function(t){e.$set(n,"universalLink",t)},expression:"item.universalLink"}}),t("a-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:n.universalLink,expression:"item.universalLink",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],staticClass:"copy-button",attrs:{type:"link"}},[t("icon-font",{style:{fontSize:"16px"},attrs:{type:"icon-copy"}}),e._v(e._s(e.$t("public.copy"))+" ")],1)],1):e._e(),"google"==n.code?t("a-form-model-item",{attrs:{label:"client ID",prop:"clientId"}},[t("a-input",{attrs:{maxLength:50,placeholder:e.$t("optionalConfig.ThirdPartyService.rules.clientID")},model:{value:n.clientId,callback:function(t){e.$set(n,"clientId",t)},expression:"item.clientId"}})],1):e._e()],1)],1):e._e()])})),0)],1)]),t("footer",{staticClass:"footer"},[t("a-button",{staticClass:"save-button",on:{click:e.handleSave}},[e._v(e._s(e.$t("optionalConfig.ThirdPartyService.saveAndPublish")))])],1)])},a=[],r=n("c7eb"),o=n("5530"),c=n("1da1"),s=(n("d81d"),n("d3b7"),n("4de4"),n("159b"),n("caad"),n("2532"),n("1bf21")),l={props:{appId:{type:String,default:""},version:{type:String,default:""}},data:function(){return{rules:{appId:[{required:!0,message:this.$t("optionalConfig.ThirdPartyService.rules.appId"),trigger:"blur"}],appKey:[{required:!0,message:this.$t("optionalConfig.ThirdPartyService.rules.appKey"),trigger:"blur"}],clientId:[{required:!0,message:this.$t("optionalConfig.ThirdPartyService.rules.clientID"),trigger:"blur"}]},id:"",thirdData:[],serviceList:[]}},watch:{appId:function(e){e&&(this.clearAllValidate(),this.getThirdService())}},created:function(){this.appId&&this.getThirdService()},methods:{getThirdService:function(){var e=this;return Object(c["a"])(Object(r["a"])().mark((function t(){var n,i;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["c"])({appId:e.appId,version:e.version});case 2:if(n=t.sent,0===n.code){t.next=5;break}return t.abrupt("return");case 5:e.id=n.data.id,i=n.data.thirdList,e.thirdData=[],e.serviceList=i.map((function(t){return 1==t.isCheck&&e.thirdData.push(t.code),Object(o["a"])(Object(o["a"])({},t),{},{clientId:t.appId})})),e.changeRule(e.thirdData);case 10:case"end":return t.stop()}}),t)})))()},handleChange:function(e){this.serviceList=this.serviceList.map((function(t){return e&&0!==e.length?t.isCheck=e.some((function(e){return e==t.code}))?1:0:t.isCheck=0,t})),this.changeRule(this.thirdData),this.clearValidate()},getImage:function(e){return 1==e.isCheck?n("4c40")("./login_".concat(e.code,"_active.png")):n("2bd7")("./login_".concat(e.code,".png"))},handleSave:function(){var e=this;return Object(c["a"])(Object(r["a"])().mark((function t(){var n,i,a,o;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=!1,a=null===(n=e.$refs.form)||void 0===n?void 0:n.filter((function(e){return 1==e.model.isCheck})),a&&a.length>0&&a.forEach((function(e){e.validate(function(){var e=Object(c["a"])(Object(r["a"])().mark((function e(t){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return i=!0,e.abrupt("return");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),!i){t.next=5;break}return t.abrupt("return");case 5:return e.serviceList.forEach((function(e){"google"==e.code&&(e.appId=e.clientId)})),t.next=8,Object(s["g"])({id:e.id,thirdList:e.serviceList});case 8:if(o=t.sent,0===o.code){t.next=11;break}return t.abrupt("return");case 11:e.$message.success(e.$t("public.save.ok")),e.getThirdService();case 13:case"end":return t.stop()}}),t)})))()},changeRule:function(e){e.includes("wechat")?(this.rules.appId=[{required:!0,message:this.$t("optionalConfig.ThirdPartyService.rules.appId"),trigger:"blur"}],this.rules.appKey=[{required:!0,message:this.$t("optionalConfig.ThirdPartyService.rules.appKey"),trigger:"blur"}]):(this.rules.appId=[],this.rules.appKey=[]),e.includes("google")?this.rules.clientId=[{required:!0,message:this.$t("optionalConfig.ThirdPartyService.rules.clientID"),trigger:"blur"}]:this.rules.clientId=[]},clearValidate:function(){var e,t=null===(e=this.$refs.form)||void 0===e?void 0:e.filter((function(e){return 0==e.model.isCheck}));t&&t.forEach((function(e){e.clearValidate()}))},clearAllValidate:function(){var e=this.$refs.form;e&&e.forEach((function(e){e.clearValidate()}))},onCopy:function(){this.$message.success(this.$t("public.copy.succeed"))}}},u=l,p=(n("6aeb"),n("2877")),d=Object(p["a"])(u,i,a,!1,null,"623dd7ba",null);t["default"]=d.exports},"1bf21":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"h",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return p}));var i=n("b775");function a(e){return Object(i["b"])({url:"/v1/platform/web/open/oem/app/functionConfig/voice",method:"get",params:e})}function r(e){return Object(i["b"])({url:"/v1/platform/web/open/oem/app/functionConfig/voice",method:"post",data:e})}function o(e){return Object(i["b"])({url:"/v1/platform/web/open/oem/app/functionConfig/voice/doc/update",method:"post",data:e})}function c(e){return Object(i["b"])({url:"/v1/platform/web/open/oem/app/functionConfig/voice/doc",method:"get",params:e})}function s(e){return Object(i["b"])({url:"/v1/platform/web/open/oem/app/functionConfig/thirdService",method:"get",params:e})}function l(e){return Object(i["b"])({url:"/v1/platform/web/open/oem/app/functionConfig/thirdService",method:"post",data:e})}function u(e){return Object(i["b"])({url:"/v1/platform/web/open/oem/app/functionConfig/autoUpgrade",method:"get",params:e})}function p(e){return Object(i["b"])({url:"/v1/platform/web/open/oem/app/functionConfig/autoUpgrade",method:"post",data:e})}},"2bd7":function(e,t,n){var i={"./login_appleid.png":"596c","./login_appleid_active.png":"d4ec","./login_google.png":"737f","./login_google_active.png":"f7bd","./login_wechat.png":"a112","./login_wechat_active.png":"af06"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="2bd7"},"4c40":function(e,t,n){var i={"./login_appleid_active.png":"d4ec","./login_google_active.png":"f7bd","./login_wechat_active.png":"af06"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="4c40"},"6aeb":function(e,t,n){"use strict";n("f0a8")},f0a8:function(e,t,n){}}]);