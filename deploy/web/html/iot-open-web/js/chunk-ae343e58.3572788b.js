(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae343e58"],{3193:function(e,t,i){},8577:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e._self._c;return t("section",{staticClass:"tree-wrap"},[t("ul",{staticClass:"tree-list"},e._l(e.treeData,(function(i){return t("li",{key:i.id,staticClass:"tree-item-wrap"},[t("section",{staticClass:"flex y-axis-center tree-item tap-pointer",on:{click:function(t){return e.toggleMenu(i)}}},[t("div",{class:["icon",e.expandId==i.id?"arrow-down":"arrow-right"]}),t("div",{staticClass:"img-wrap"},[t("img",{attrs:{src:i.dirImg||e.defaultFirstMenu}})]),t("p",{class:["title",{active:e.activeParentId==i.id&&""==e.activeMenuId}]},[e._v(e._s(i.docDirName))]),"edit"==e.type?t("div",{staticClass:"action flex"},[t("edit-doc-icon",{on:{click:function(t){return e.editMenu(t,i)}}}),t("add-circle-icon",{on:{click:function(t){return e.addSubMenu(t,i)}}}),t("delete-doc-icon",{on:{click:function(t){return e.deleteMenu(t,i)}}})],1):e._e()]),e.expandId==i.id&&i.children?t("ul",{staticClass:"sub-menu-wrap"},e._l(i.children,(function(i){return t("li",{key:i.id,staticClass:"flex y-axis-center sub-menu tap-pointer",on:{click:function(t){return e.toggleSubMenu(i)}}},[t("div",{staticClass:"img-wrap"},[t("img",{attrs:{src:i.dirImg||e.defaultSecondMenu}})]),t("p",{class:["title",{active:e.activeMenuId==i.id}]},[e._v(e._s(i.docDirName))]),"edit"==e.type?t("div",{staticClass:"action flex"},[t("edit-doc-icon",{on:{click:function(t){return e.editMenu(t,i)}}}),t("delete-doc-icon",{on:{click:function(t){return e.deleteMenu(t,i)}}})],1):e._e()])})),0):e._e()])})),0),"edit"==e.type?t("a-button",{staticClass:"add-menu",on:{click:e.addMenu}},[t("add-circle-icon"),e._v(" "+e._s(e.$t("helpCenter.catalog.add"))+" ")],1):e._e(),t("edit-menu",{attrs:{id:e.editId,parentId:e.parentIdEdit,docId:e.docId,visible:e.editMenuVisible,langList:e.langList},on:{handleCancel:e.cancelMenu,handleOk:e.sumitMenu}})],1)},a=[],d=i("c7eb"),c=i("1da1"),s=(i("4e82"),i("04b3")),r=i("c4bc"),u=i("b9fe"),o=i("ca00"),l={name:"Catalog",props:{docId:{type:String,default:""},type:{type:String,default:""},langList:{type:Array,default:[]}},components:{AddCircleIcon:s["b"],EditDocIcon:s["o"],DeleteDocIcon:s["k"],EditMenu:r["default"]},data:function(){return{treeData:[],activeMenuId:"",activeParentId:"",editMenuVisible:!1,editId:"",parentIdEdit:"",defaultFirstMenu:i("e6f6"),defaultSecondMenu:i("4775"),expandId:""}},watch:{docId:function(e){e&&this.getMenuList()}},created:function(){this.docId&&this.getMenuList()},methods:{getMenuList:function(){var e=this;return Object(c["a"])(Object(d["a"])().mark((function t(){var i,n;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("edit"!=e.type){t.next=6;break}return t.next=3,Object(u["l"])({lang:"zh",docId:e.docId});case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,Object(u["q"])({lang:"zh",helpId:e.docId});case 8:t.t0=t.sent;case 9:if(i=t.t0,0===i.code){t.next=12;break}return t.abrupt("return");case 12:n=i.data.sort(o["b"]),e.treeData=Object(o["a"])(n||[],"id","parentId"),e.$emit("getTreeData",e.treeData),e.activeParentId||(e.activeParentId=e.treeData[0].id||"",e.$emit("menuChange",{parentId:e.activeParentId||"",dirId:e.activeMenuId}));case 16:case"end":return t.stop()}}),t)})))()},toggleMenu:function(e){this.expandId=this.expandId==e.id?"":e.id,this.activeParentId===e.id&&""==this.activeMenuId||(this.activeParentId=e.id,this.activeMenuId="",this.$emit("menuChange",{parentId:e.id,dirId:""}))},toggleSubMenu:function(e){this.activeMenuId!==e.id&&(this.activeMenuId=e.id,this.activeParentId=e.parentId,this.$emit("menuChange",{parentId:e.parentId,dirId:e.id}))},addMenu:function(){this.editId="",this.parentIdEdit="0",this.editMenuVisible=!0},addSubMenu:function(e,t){e.stopPropagation(),this.editId="",this.parentIdEdit=t.id,this.editMenuVisible=!0},editMenu:function(e,t){e.stopPropagation(),this.editId=t.id,this.parentIdEdit=t.parentId||"0",this.editMenuVisible=!0},cancelMenu:function(){this.editMenuVisible=!1},sumitMenu:function(){this.editMenuVisible=!1,this.getMenuList()},deleteMenu:function(e,t){var i=this;if(e.stopPropagation(),t.children&&t.children.length>0){var n="“".concat(t.docDirName,"”")+this.$t("helpCenter.catalog.cannot.delete.content");this.$InfoModal(this,n,this.$t("helpCenter.catalog.cannot.delete.title"),this.$t("public.close.text"))}else this.$ConfirmModal(this,this.$t("helpCenter.catalog.delete.content"),this.$t("helpCenter.catalog.delete.title"),this.$t("public.sumit")).then(Object(c["a"])(Object(d["a"])().mark((function e(){var n;return Object(d["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["d"])({id:t.id});case 2:if(n=e.sent,0===n.code){e.next=5;break}return e.abrupt("return");case 5:i.$message.success(i.$t("public.action.succeed")),i.getMenuList();case 7:case"end":return e.stop()}}),e)}))))}}},p=l,h=(i("f6aa"),i("2877")),I=Object(h["a"])(p,n,a,!1,null,"16b2c748",null);t["default"]=I.exports},f6aa:function(e,t,i){"use strict";i("3193")}}]);