(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a7bd257"],{"02e3":function(e,t,n){"use strict";n("834b")},2728:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.$t("setting.hardware.develop.modalTitle.version"),width:800,visible:e.visible,"confirm-loading":e.confirmLoading},on:{cancel:e.handleCancel,ok:e.handleOk}},[t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("h4",[e._v(e._s(e.data.firmwareName))]),t("section",{staticClass:"version-list"},[t("table-card",{attrs:{type:"card",columnList:e.columnList,dataList:e.versionList},scopedSlots:e._u([{key:"item",fn:function(n){var a=n.record;return[t("section",{staticClass:"flex y-axis-center x-space-between"},[t("section",{staticClass:"details"},[t("h3",[e._v(e._s(a.version))]),t("p",{staticClass:"description"},[e._v(e._s(e.$t("setting.hardware.develop.version.intro"))+"："+e._s(a.desc))]),t("p",{staticClass:"description"},[e._v(e._s(e.$t("setting.hardware.develop.space.size"))+"："+e._s("custom"==e.type?parseInt(a.upgradeFileSize/1024||0):parseInt(a.fileSize/1024||0))+"K")]),t("p",{staticClass:"description"},[e._v(e._s(e.$t("setting.hardware.develop.onstore.time"))+"："+e._s(e._f("momentFilter")(a.updatedAt)))])]),t("section",{staticClass:"button-bar"},[0===a.active?t("a-button",{on:{click:function(t){return e.handleSelect(a)}}},[e._v(e._s(e.$t("setting.hardware.develop.select")))]):e._e(),1===a.active?t("a-button",{attrs:{disabled:""}},[e._v(e._s(e.$t("setting.hardware.develop.selected")))]):e._e()],1)])]}}])})],1)])],1)},i=[],s=n("c7eb"),r=n("5530"),c=n("1da1"),o=(n("d81d"),n("d3b7"),n("159b"),n("5e89")),d=n("c4c8"),l={name:"ChangeVersion",props:{productId:{type:String,default:""},data:{type:Object,default:function(){}},visible:{type:Boolean,default:!1},type:{type:String,default:"module"}},components:{TableCard:o["a"]},data:function(){return{confirmLoading:!1,versionList:[],columnList:[{name:"",span:"24",slot:"item"}],selectVersion:{}}},watch:{visible:function(e){e&&this.getChangeVersionList()}},methods:{getChangeVersionList:function(){var e=this;return Object(c["a"])(Object(s["a"])().mark((function t(){var n,a;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("module"!==e.type){t.next=6;break}return t.next=3,Object(d["n"])({moduleId:e.data.id});case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,Object(d["p"])({firmwareId:e.data.firmwareId});case 8:t.t0=t.sent;case 9:if(a=t.t0,0===a.code){t.next=12;break}return t.abrupt("return");case 12:e.versionList=(null===(n=a.data)||void 0===n||null===(n=n.list)||void 0===n?void 0:n.map((function(t){return t.version===e.data.version&&(e.selectVersion=t),Object(r["a"])(Object(r["a"])({},t),{},{active:t.version===e.data.version?1:0})})))||[];case 13:case"end":return t.stop()}}),t)})))()},handleCancel:function(){this.$emit("handleCancel")},handleSelect:function(e){this.selectVersion=e,this.versionList.forEach((function(t){t.active=t.version===e.version?1:0}))},handleOk:function(){var e=this;return Object(c["a"])(Object(s["a"])().mark((function t(){var n,a;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={firmwareVersionId:e.selectVersion.id,firmwareId:e.data.firmwareId,firmwareVersion:e.selectVersion.version,id:e.productId},t.next=3,Object(d["e"])(n);case 3:if(a=t.sent,0===a.code){t.next=6;break}return t.abrupt("return");case 6:e.$emit("handleSelect",e.selectVersion);case 7:case"end":return t.stop()}}),t)})))()}}},u=l,p=(n("02e3"),n("2877")),v=Object(p["a"])(u,a,i,!1,null,"d2305414",null);t["default"]=v.exports},"834b":function(e,t,n){}}]);