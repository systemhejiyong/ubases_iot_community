(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b330007","chunk-2d21711c","chunk-2d21711c"],{"3bf6":function(t,e,n){"use strict";n.r(e);n("b0c0");var r=function(){var t=this,e=t._self._c;return e("section",{staticClass:"page-wrap"},[e("a-page-header",{attrs:{title:t.$t("consumables.title")}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:10}},[e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",[e("a-input",{attrs:{placeholder:t.$t("consumables.placeholder.name"),allowClear:!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.query.apply(null,arguments)}},model:{value:t.queryParam.query.name,callback:function(e){t.$set(t.queryParam.query,"name",e)},expression:"queryParam.query.name"}})],1)],1),e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",[e("a-select",{attrs:{placeholder:t.$t("consumables.placeholder.productId"),options:t.productOptions,allowClear:!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.query.apply(null,arguments)}},model:{value:t.queryParam.query.productId,callback:function(e){t.$set(t.queryParam.query,"productId",e)},expression:"queryParam.query.productId"}})],1)],1),e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",[e("a-select",{attrs:{placeholder:t.$t("consumables.placeholder.type"),options:t.typeOptions,allowClear:!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.query.apply(null,arguments)}},model:{value:t.queryParam.query.materialTypeId,callback:function(e){t.$set(t.queryParam.query,"materialTypeId",e)},expression:"queryParam.query.materialTypeId"}})],1)],1),e("a-col",{attrs:{md:4,sm:24}},[e("span",{staticClass:"table-page-search-submitButtons"},[e("a-space",{attrs:{size:10}},[e("a-button",{attrs:{type:"primary"},on:{click:t.query}},[t._v(t._s(t.$t("public.query")))]),e("a-button",{staticClass:"regular-button",on:{click:t.reset}},[t._v(t._s(t.$t("public.reset")))])],1)],1)])],1)],1)],1),e("div",{staticClass:"table-operator flex"},[e("a-button",{staticClass:"grean-button",attrs:{type:"primary"},on:{click:function(e){return t.handleDetails("add")}}},[e("icon-font",{style:{fontSize:"18px"},attrs:{type:"icon-add"}}),t._v(" "+t._s(t.$t("consumables.add.button"))+" ")],1),e("a-button",{staticClass:"grean-button",attrs:{type:"primary"},on:{click:t.handleEditType}},[t._v(" "+t._s(t.$t("consumables.type.manage.button"))+" ")])],1),e("a-table",{attrs:{size:"small",rowKey:"id","data-source":t.dataSource,columns:t.columns,loading:t.loading,pagination:t.pagination},on:{change:t.onChangePagination},scopedSlots:t._u([{key:"name",fn:function(n,r){return e("span",{staticClass:"firmware-name tap-pointer",on:{click:function(e){return t.handleDetails("check",r.id)}}},[t._v(" "+t._s(r.name)+" ")])}},{key:"imageUrl",fn:function(t,n){return[e("img",{staticClass:"image-url",attrs:{src:n.imageUrl}})]}},{key:"updatedAt",fn:function(e,n){return[t._v(" "+t._s(t._f("momentFilter")(n.updatedAt))+" ")]}},{key:"action",fn:function(n){return[e("a-button",{attrs:{type:"link",size:"small"},on:{click:function(e){return t.handleDetails("edit",n.id)}}},[t._v(" "+t._s(t.$t("public.edit"))+" ")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-button",{attrs:{type:"link",size:"small"},on:{click:function(e){return t.handleEditLang(n.id)}}},[t._v(" "+t._s(t.$t("consumables.details.label.lang"))+" ")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-button",{attrs:{type:"link",size:"small"},on:{click:function(e){return t.handleDelete(n.id)}}},[t._v(" "+t._s(t.$t("public.delete"))+" ")])]}}])}),e("Lang",{attrs:{visible:t.visible,id:t.editLangId},on:{cancel:function(e){t.visible=!1},sumit:t.sumitLang}})],1)],1)},a=[],u=n("5530"),o=n("c7eb"),c=n("1da1"),i=(n("99af"),n("d81d"),n("4de4"),n("d3b7"),n("25f0"),n("5f1b")),d=n("c4c8"),s=n("d3d3"),l={name:"Consumables",components:{Lang:s["default"]},data:function(){var t=this;return{pagination:{showSizeChanger:!0,current:1,pageSize:10,total:0,showTotal:function(e,n){return t.$t("public.pagination.total")+":".concat(e)+t.$t("public.pagination.current")+":".concat(n[0],"-").concat(n[1])}},queryParam:{page:1,limit:10,query:{}},columns:[{dataIndex:"name",title:this.$t("consumables.column.name"),scopedSlots:{customRender:"name"},width:"150px"},{dataIndex:"imageUrl",title:this.$t("consumables.column.image"),scopedSlots:{customRender:"imageUrl"}},{dataIndex:"suitableProduct",title:this.$t("consumables.column.fitProduct")},{dataIndex:"type",title:this.$t("consumables.column.type"),width:"150px"},{dataIndex:"updatedAt",title:this.$t("consumables.column.updateAt"),scopedSlots:{customRender:"updatedAt"}},{title:this.$t("public.action"),key:"action",align:"center",width:"210px",scopedSlots:{customRender:"action"}}],dataSource:[],loading:!1,productOptions:[],typeOptions:[],visible:!1,editLangId:""}},created:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$route.meta.isBack){e.next=6;break}return Object.assign(t.$data,t.$options.data.call(t)),e.next=4,t.getProductList();case 4:t.queryList(),t.getMaterialTypeList();case 6:case"end":return e.stop()}}),e)})))()},beforeRouteEnter:function(t,e,n){t.meta.isBack="/product/consumables/details/index"===e.path||"/product/consumables/typeManage/index"===e.path||"/dashboard/index"===e.path,n()},activated:function(){this.$route.meta.isBack&&(this.$route.meta.isBack=!1,this.queryList())},methods:{onChangePagination:function(t){this.queryParam.page=t.current,this.queryParam.limit=t.pageSize,this.pagination.current=t.current,this.pagination.pageSize=t.pageSize,this.queryList()},query:function(){this.queryParam.page=1,this.pagination.current=1,this.queryList()},reset:function(){this.queryParam={page:1,limit:this.queryParam.limit,query:{}},this.queryList()},queryList:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var n,r;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,Object(i["k"])(t.queryParam);case 3:if(r=e.sent,t.loading=!1,0===r.code){e.next=7;break}return e.abrupt("return");case 7:t.dataSource=null===(n=r.data)||void 0===n||null===(n=n.list)||void 0===n?void 0:n.map((function(e){var n=[];return e.suitableProduct&&(n=e.suitableProduct.map((function(e){var n;return(null===(n=t.productOptions.filter((function(t){return t.value==e})))||void 0===n||null===(n=n.pop())||void 0===n?void 0:n.label)||""}))),Object(u["a"])(Object(u["a"])({},e),{},{suitableProduct:e.suitableProduct?n.toString():""})})),t.pagination.total=r.data.total;case 9:case"end":return e.stop()}}),e)})))()},getProductList:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var n,r,a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={page:0},e.next=3,Object(d["A"])(r);case 3:if(a=e.sent,0===a.code){e.next=6;break}return e.abrupt("return");case 6:t.productOptions=(null===(n=a.data)||void 0===n||null===(n=n.list)||void 0===n?void 0:n.map((function(t){return{label:t.name,value:t.id}})))||[];case 7:case"end":return e.stop()}}),e)})))()},getMaterialTypeList:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var n,r;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["m"])({page:0,query:{}});case 2:if(r=e.sent,0===r.code){e.next=5;break}return e.abrupt("return");case 5:t.typeOptions=(null===(n=r.data)||void 0===n?void 0:n.list.map((function(t){return{label:t.type,value:t.id}})))||[];case 6:case"end":return e.stop()}}),e)})))()},handleDetails:function(t,e){var n=this;return Object(c["a"])(Object(o["a"])().mark((function r(){return Object(o["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:n.$router.push({path:"/product/consumables/details/index",query:{id:e,type:t}});case 1:case"end":return r.stop()}}),r)})))()},handleEditLang:function(t){this.editLangId=t,this.visible=!0},sumitLang:function(){this.visible=!1,this.queryList()},handleDelete:function(t){var e=this;this.$WarningModal(this,this.$t("public.confirm.delete")+"?").then(Object(c["a"])(Object(o["a"])().mark((function n(){var r;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(i["c"])({id:t});case 2:if(r=n.sent,e.$message.success(e.$t("public.delete_success")),0===r.code){n.next=6;break}return n.abrupt("return");case 6:1==e.dataSource.length&&1!=e.queryParam.page&&(e.queryParam.page--,e.pagination.current--),e.queryList();case 8:case"end":return n.stop()}}),n)}))))},handleEditType:function(){this.$router.push({path:"/product/consumables/typeManage/index"})}}},p=l,m=(n("9950"),n("2877")),b=Object(m["a"])(p,r,a,!1,null,"4ff6fe75",null);e["default"]=b.exports},"53d9":function(t,e,n){},9950:function(t,e,n){"use strict";n("53d9")},c4c8:function(t,e,n){"use strict";n.d(e,"A",(function(){return a})),n.d(e,"z",(function(){return u})),n.d(e,"j",(function(){return o})),n.d(e,"y",(function(){return c})),n.d(e,"g",(function(){return i})),n.d(e,"m",(function(){return d})),n.d(e,"F",(function(){return s})),n.d(e,"t",(function(){return l})),n.d(e,"C",(function(){return p})),n.d(e,"c",(function(){return m})),n.d(e,"k",(function(){return b})),n.d(e,"a",(function(){return f})),n.d(e,"h",(function(){return h})),n.d(e,"v",(function(){return v})),n.d(e,"Q",(function(){return y})),n.d(e,"n",(function(){return g})),n.d(e,"e",(function(){return w})),n.d(e,"q",(function(){return O})),n.d(e,"p",(function(){return j})),n.d(e,"P",(function(){return k})),n.d(e,"K",(function(){return q})),n.d(e,"x",(function(){return x})),n.d(e,"R",(function(){return $})),n.d(e,"w",(function(){return P})),n.d(e,"r",(function(){return L})),n.d(e,"N",(function(){return C})),n.d(e,"d",(function(){return _})),n.d(e,"o",(function(){return S})),n.d(e,"f",(function(){return I})),n.d(e,"M",(function(){return T})),n.d(e,"E",(function(){return D})),n.d(e,"D",(function(){return F})),n.d(e,"U",(function(){return z})),n.d(e,"H",(function(){return E})),n.d(e,"T",(function(){return M})),n.d(e,"G",(function(){return R})),n.d(e,"O",(function(){return A})),n.d(e,"B",(function(){return G})),n.d(e,"I",(function(){return B})),n.d(e,"J",(function(){return N})),n.d(e,"L",(function(){return U})),n.d(e,"S",(function(){return J})),n.d(e,"s",(function(){return V})),n.d(e,"b",(function(){return K})),n.d(e,"l",(function(){return H})),n.d(e,"i",(function(){return Q})),n.d(e,"u",(function(){return W}));var r=n("b775");function a(t){return Object(r["b"])({url:"/v1/platform/web/open/product/list",method:"post",data:t})}function u(t){return Object(r["b"])({url:"/v1/platform/web/open/product/detail/"+t,method:"get"})}function o(t){return Object(r["b"])({url:"/v1/platform/web/open/product/delete",method:"post",data:t})}function c(){return Object(r["b"])({url:"/v1/platform/web/open/productType/get",method:"get"})}function i(t){return Object(r["b"])({url:"/v1/platform/web/open/product/save",method:"post",data:t})}function d(t){return Object(r["b"])({url:"/v1/platform/web/open/product/edit",method:"post",data:t})}function s(t){return Object(r["b"])({url:"/v1/platform/web/open/product/functions",method:"get",params:t})}function l(t){return Object(r["b"])({url:"/v1/platform/web/open/product/funcList",method:"get",params:t})}function p(t){return Object(r["b"])({url:"/v1/platform/web/open/product/standardFuncList",method:"get",params:t})}function m(t){return Object(r["b"])({url:"/v1/platform/web/open/product/addStandardFunc",method:"post",data:t})}function b(t){return Object(r["b"])({url:"/v1/platform/web/open/product/editFunc",method:"post",data:t})}function f(t){return Object(r["b"])({url:"/v1/platform/web/open/product/addFunc",method:"post",data:t})}function h(t){return Object(r["b"])({url:"/v1/platform/web/open/product/deleteFunc",method:"post",data:t})}function v(t){return Object(r["b"])({url:"/v1/platform/web/open/product/queryModules",method:"get",params:t})}function y(t){return Object(r["b"])({url:"/v1/platform/web/open/product/selectModule",method:"post",data:t})}function g(t){return Object(r["b"])({url:"/v1/platform/web/open/firmware/changeVersionList",method:"get",params:t})}function w(t){return Object(r["b"])({url:"/v1/platform/web/open/product/changeVersionSubmit",method:"post",data:t})}function O(t){return Object(r["b"])({url:"/v1/platform/web/open/product/queryCustomFirmware",method:"get",params:t})}function j(t){return Object(r["b"])({url:"/v1/platform/web/open/firmware/changeCustomVersionList",method:"get",params:t})}function k(t){return Object(r["b"])({url:"/v1/platform/web/open/product/selectCustomerFirmware",method:"post",data:t})}function q(t){return Object(r["b"])({url:"/v1/platform/web/open/product/removeCustomerFirmware",method:"post",data:t})}function x(t){return Object(r["b"])({url:"/v1/platform/web/open/product/controlPanelList",method:"get",params:t})}function $(t){return Object(r["b"])({url:"/v1/platform/web/open/product/selectControlPanel",method:"post",data:t})}function P(t){return Object(r["b"])({url:"/v1/platform/web/open/product/getNetworkGuide",method:"get",params:t})}function L(t){return Object(r["b"])({url:"/v1/platform/web/open/product/getDefaultNetworkGuide",method:"get",params:t})}function C(t){return Object(r["b"])({url:"/v1/platform/web/open/product/saveNetworkGuide",method:"post",data:t})}function _(t){return Object(r["b"])({url:"/v1/platform/web/open/product/changeNetworkGuide",method:"post",data:t})}function S(t){return Object(r["b"])({url:"/v1/platform/web/open/product/completeDevelopDetailed",method:"get",params:t})}function I(t){return Object(r["b"])({url:"/v1/platform/web/open/product/completeDevelop",method:"post",data:t})}function T(t){return Object(r["b"])({url:"/v1/platform/web/open/product/returnDevelop",method:"post",data:t})}function D(t){return Object(r["b"])({url:"/v1/platform/web/template/testCaseTpl/download",method:"get",params:t})}function F(t){return Object(r["b"])({url:"/v1/platform/web/open/product/getTestReportFile",method:"get",params:t})}function z(t){return Object(r["b"])({url:"/v1/platform/web/open/product/uploadTestReport",method:"post",timeout:3e4,data:t})}function E(t){return Object(r["b"])({url:"/v1/platform/web/open/product/voice/list",method:"post",data:t})}function M(t){return Object(r["b"])({url:"/v1/platform/web/open/product/voice/publish",method:"post",data:t})}function R(t){return Object(r["b"])({url:"/v1/platform/web/open/product/voice/detail",method:"post",data:t})}function A(t){return Object(r["b"])({url:"/v1/platform/web/open/product/voice/save",method:"post",data:t})}function G(t){return Object(r["b"])({url:"/v1/platform/web/open/product/voice/publish/record",method:"get",params:t})}function B(t){return Object(r["b"])({url:"/v1/platform/web/open/product/voice/getDoc",method:"get",params:t})}function N(t){return Object(r["b"])({url:"/v1/platform/web/open/product/voice/unitList",method:"post",data:t})}function U(t){return Object(r["b"])({url:"/v1/platform/web/open/product/resetStandardFunc",method:"GET",params:t})}function J(t){return Object(r["b"])({url:"/v1/platform/web/open/product/setSceneFunc",method:"post",data:t})}function V(t){return Object(r["b"])({url:"/v1/platform/web/open/product/funcList",method:"get",params:t})}function K(t){return Object(r["b"])({url:"/v1/platform/web/open/manual/add",method:"post",data:t})}function H(t){return Object(r["b"])({url:"/v1/platform/web/open/manual/edit",method:"post",data:t})}function Q(t){return Object(r["b"])({url:"/v1/platform/web/open/manual/del",method:"post",data:t})}function W(t){return Object(r["b"])({url:"/v1/platform/web/open/manual/detail",method:"GET",params:t})}}}]);