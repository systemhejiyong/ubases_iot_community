(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22e5d0d6"],{"39bf":function(e,t,n){},"7be0":function(e,t,n){"use strict";n("39bf")},b9fe:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"j",(function(){return o})),n.d(t,"p",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"u",(function(){return l})),n.d(t,"l",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"n",(function(){return g})),n.d(t,"w",(function(){return h})),n.d(t,"o",(function(){return v})),n.d(t,"v",(function(){return O})),n.d(t,"m",(function(){return D})),n.d(t,"e",(function(){return k})),n.d(t,"q",(function(){return j})),n.d(t,"t",(function(){return w})),n.d(t,"s",(function(){return $})),n.d(t,"r",(function(){return C})),n.d(t,"f",(function(){return x}));var r=n("b775");function a(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/appDoc",method:"get",params:e})}function o(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/appDoc/getApp",method:"get",params:e})}function c(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/appDoc/getPubLangs",method:"get",params:e})}function i(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/appDoc",method:"post",data:e})}function u(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/appDoc/detail",method:"get",params:e})}function s(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/appDoc/update",method:"post",data:e})}function l(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/appDoc/getSupportLangs",method:"get",params:e})}function p(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/doc/directory",method:"get",params:e})}function d(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/doc/directory",method:"post",data:e})}function m(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/doc/directory/detail",method:"get",params:e})}function f(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/doc/directory/update",method:"post",data:e})}function b(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/doc/directory/delete",method:"post",params:e})}function g(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/doc/entry/list",method:"post",data:e})}function h(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/doc/entry",method:"post",data:e})}function v(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/doc/entry/seting",method:"get",params:e})}function O(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/doc/entry/seting",method:"post",data:e})}function D(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/doc/entry/detail",method:"get",params:e})}function k(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/doc/entry/delete",method:"post",params:e})}function j(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/public/doc/directory",method:"get",params:e})}function w(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/public/doc/entry/list",method:"post",data:e})}function $(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/public/doc/entry/detail",method:"get",params:e})}function C(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/public/helpCenter/list",method:"post",data:e})}function x(e){return Object(r["b"])({url:"/v1/platform/web/open/oem/marketing/appDoc/del",method:"post",data:e})}},bc23:function(e,t,n){"use strict";n.r(t);n("b0c0");var r=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.docId?e.$t("helpCenter.createHelpDoc.title.edit"):e.$t("helpCenter.createHelpDoc.title.create"),width:840,visible:e.visible,"confirm-loading":e.confirmLoading,footer:null},on:{ok:e.handleOk,cancel:e.handleCancel}},[t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("a-form-model",{ref:"ruleForm",staticClass:"regular-form",attrs:{model:e.form,rules:e.rules,"label-col":{span:6},"wrapper-col":{span:15}}},[t("a-form-model-item",{ref:"name",attrs:{label:e.$t("helpCenter.createHelpDoc.label.name"),prop:"name"}},[t("a-input",{attrs:{maxLength:20,placeholder:e.$t("helpCenter.createHelpDoc.placeholder.name")},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("a-form-model-item",{attrs:{label:e.$t("helpCenter.createHelpDoc.label.apps"),prop:"apps"}},[t("a-checkbox-group",{attrs:{options:e.appOptions},model:{value:e.form.apps,callback:function(t){e.$set(e.form,"apps",t)},expression:"form.apps"}})],1),t("a-form-model-item",{attrs:{label:e.$t("helpCenter.createHelpDoc.label.langs"),prop:"langs"}},[t("a-checkbox-group",{attrs:{options:e.langsOptions},on:{change:e.suportLangChange},model:{value:e.form.langs,callback:function(t){e.$set(e.form,"langs",t)},expression:"form.langs"}})],1),t("a-form-model-item",{attrs:{label:e.$t("helpCenter.createHelpDoc.label.remainLang"),prop:"remainLang"}},[t("div",{staticClass:"select-wrap"},[t("a-select",{attrs:{options:e.remainOptions,placeholder:e.$t("helpCenter.createHelpDoc.placeholder.remainLang")},model:{value:e.form.remainLang,callback:function(t){e.$set(e.form,"remainLang",t)},expression:"form.remainLang"}})],1),t("p",{staticClass:"remind"},[e._v(e._s(e.$t("helpCenter.createHelpDoc.remainLang.tips")))])]),t("a-form-model-item",{attrs:{label:e.$t("helpCenter.createHelpDoc.label.isSucceedPUbDoc"),prop:"isSucceedPUbDoc"}},[e.docId?t("div",[e._v(e._s(e.$DictName("yes_no",e.form.isSucceedPUbDoc)))]):e._e(),e.docId?e._e():t("a-radio-group",{attrs:{options:e.$DictList("yes_no")},model:{value:e.form.isSucceedPUbDoc,callback:function(t){e.$set(e.form,"isSucceedPUbDoc",t)},expression:"form.isSucceedPUbDoc"}})],1),1===e.form.isSucceedPUbDoc?t("a-form-model-item",{attrs:{label:e.$t("helpCenter.createHelpDoc.label.selectOEM"),prop:"id"}},[e.docId?t("div",[e._v(e._s(e.form.helpCenterName+" "+e.form.version))]):e._e(),e.docId?e._e():t("div",{staticClass:"select-wrap"},[t("a-select",{attrs:{options:e.oemDomOptions,placeholder:e.$t("helpCenter.createHelpDoc.placeholder.selectOEM")},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)]):e._e(),t("a-form-model-item",{attrs:{label:e.$t("helpCenter.createHelpDoc.label.succeedPubDoc"),prop:"succeedPubDoc"}},[t("a-checkbox-group",{attrs:{options:e.pubOptions},model:{value:e.form.succeedPubDoc,callback:function(t){e.$set(e.form,"succeedPubDoc",t)},expression:"form.succeedPubDoc"}})],1),t("a-form-model-item",{attrs:{"wrapper-col":{span:15,offset:6}}},[t("section",{staticClass:"btn-wrap flex"},[t("a-button",{attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.handleOk}},[e._v(" "+e._s(e.$t("public.sumit"))+" ")]),t("a-button",{on:{click:e.handleDelete}},[e._v(" "+e._s(e.$t("public.delete"))+" ")]),t("a-button",{on:{click:e.handleCancel}},[e._v(" "+e._s(e.$t("public.cancel"))+" ")])],1)])],1)],1)],1)},a=[],o=n("5530"),c=n("c7eb"),i=n("1da1"),u=(n("d81d"),n("4de4"),n("d3b7"),n("99af"),n("b9fe")),s={name:"CreateHelpDoc",props:{visible:{type:Boolean,default:!1},docId:{type:String,default:""}},data:function(){return{confirmLoading:!1,form:{langs:["zh","en"],succeedPubDoc:["zh","en"]},rules:{name:[{required:!0,message:this.$t("helpCenter.createHelpDoc.rules.name"),trigger:"change"}],apps:[{required:!0,message:this.$t("helpCenter.createHelpDoc.rules.apps"),trigger:"change"}],langs:[{required:!0,message:this.$t("helpCenter.createHelpDoc.rules.langs"),trigger:"change"}],remainLang:[{required:!0,message:this.$t("helpCenter.createHelpDoc.rules.remainLang"),trigger:"change"}],isSucceedPUbDoc:[{required:!0,message:this.$t("helpCenter.createHelpDoc.rules.isSucceedPUbDoc"),trigger:"change"}],id:[{required:!0,message:this.$t("helpCenter.createHelpDoc.rules.selectOEM"),trigger:"change"}],succeedPubDoc:[{required:!0,message:this.$t("helpCenter.createHelpDoc.rules.succeedPubDoc"),trigger:"change"}]},originApps:[],originLangs:[],appOptions:[],langsOptions:[],oemDomOptions:[]}},mounted:function(){this.getPubLangs()},watch:{visible:function(e){e&&(this.getAppList(),this.getPublishDocList(),this.docId&&this.appDocDetail())}},computed:{remainOptions:function(){var e,t=this;return this.langsOptions&&0!=this.langsOptions.length?null===(e=this.form.langs)||void 0===e?void 0:e.map((function(e){var n,r=null===(n=t.langsOptions.filter((function(t){return t.value===e})))||void 0===n?void 0:n.pop();if(r)return{label:r.label,value:r.value}})):[]},pubOptions:function(){var e,t=this;return this.langsOptions&&0!=this.langsOptions.length?null===(e=this.form.langs)||void 0===e?void 0:e.map((function(e){var n;return null===(n=t.langsOptions.filter((function(t){return t.value===e})))||void 0===n?void 0:n.pop()})):[]}},methods:{getPublishDocList:function(){var e=this;return Object(i["a"])(Object(c["a"])().mark((function t(){var n,r;return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["r"])({page:0});case 2:if(r=t.sent,0===r.code){t.next=5;break}return t.abrupt("return");case 5:e.oemDomOptions=(null===(n=r.data)||void 0===n||null===(n=n.list)||void 0===n?void 0:n.map((function(e){return{value:e.id,label:"".concat(e.name).concat(e.version),version:e.version,name:e.name}})))||[];case 6:case"end":return t.stop()}}),t)})))()},appDocDetail:function(){var e=this;return Object(i["a"])(Object(c["a"])().mark((function t(){var n,r,a,i,s;return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["c"])({docId:e.docId});case 2:if(n=t.sent,0===n.code){t.next=5;break}return t.abrupt("return");case 5:r=n.data,a=r.apps.map((function(e){return e.appId})),i=r.langs.map((function(e){return e.lang})),s=r.succeedPubDoc.map((function(e){return e.lang})),e.form=Object(o["a"])(Object(o["a"])({},n.data),{},{apps:a,langs:i,succeedPubDoc:s});case 10:case"end":return t.stop()}}),t)})))()},handleOk:function(){var e=this;this.$refs.ruleForm.validate(function(){var t=Object(i["a"])(Object(c["a"])().mark((function t(n){var r,a,i,s,l,p,d,m;return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:if(e.confirmLoading=!0,a=e.form.apps.map((function(t){return e.originApps.filter((function(e){return e.appId===t})).pop()})),i=e.form.langs.map((function(t){return e.originLangs.filter((function(e){return e.lang===t})).pop()})),s=e.form.succeedPubDoc.map((function(t){return e.originLangs.filter((function(e){return e.lang===t})).pop()})),l=Object(o["a"])(Object(o["a"])({},e.form),{},{apps:a,langs:i,succeedPubDoc:s}),e.form.id&&!e.docId&&(d=(null===(p=e.oemDomOptions)||void 0===p||null===(p=p.filter((function(t){return t.value===e.form.id})))||void 0===p?void 0:p.pop())||"",l["version"]=d.version,l["helpCenterName"]=d.name),!e.docId){t.next=14;break}return t.next=11,Object(u["g"])(l);case 11:t.t0=t.sent,t.next=17;break;case 14:return t.next=16,Object(u["a"])(l);case 16:t.t0=t.sent;case 17:if(m=t.t0,e.confirmLoading=!1,0===m.code){t.next=21;break}return t.abrupt("return");case 21:e.$emit("handleOk"),e.form={langs:["zh","en"],succeedPubDoc:["zh","en"]},null===(r=e.$refs.ruleForm)||void 0===r||r.resetFields();case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handleCancel:function(){var e;this.$emit("handleCancel"),this.form={langs:["zh","en"],succeedPubDoc:["zh","en"]},null===(e=this.$refs.ruleForm)||void 0===e||e.resetFields()},getAppList:function(){var e=this;return Object(i["a"])(Object(c["a"])().mark((function t(){var n,r,a;return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={},e.docId&&(r.docId=e.docId),t.next=4,Object(u["j"])(r);case 4:if(a=t.sent,0===a.code){t.next=7;break}return t.abrupt("return");case 7:e.originApps=a.data,e.appOptions=null===(n=a.data)||void 0===n?void 0:n.map((function(e){return{label:e.appName,value:e.appId}}));case 9:case"end":return t.stop()}}),t)})))()},getPubLangs:function(){var e=this;return Object(i["a"])(Object(c["a"])().mark((function t(){var n,r;return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["p"])();case 2:if(r=t.sent,0===r.code){t.next=5;break}return t.abrupt("return");case 5:e.originLangs=r.data,e.langsOptions=null===(n=r.data)||void 0===n?void 0:n.map((function(e){return"zh"==e.lang||"en"==e.lang?{value:e.lang,label:e.langName,disabled:!0}:{value:e.lang,label:e.langName}}));case 7:case"end":return t.stop()}}),t)})))()},suportLangChange:function(e){var t=this;!this.form.remainLang||this.form.succeedPubDoc.length<3||(e.some((function(e){return e==t.form.remainLang}))||this.$set(this.form,"remainLang",""),this.form.succeedPubDoc=this.form.succeedPubDoc.filter((function(t){return e.some((function(e){return e==t}))})))},handleDelete:function(){var e=this;this.$ConfirmModal(this,this.$t("helpCenter.catalog.delete.content"),this.$t("helpCenter.catalog.delete.title"),this.$t("public.sumit")).then(Object(i["a"])(Object(c["a"])().mark((function t(){var n,r;return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["f"])({id:e.docId});case 2:if(r=t.sent,0===r.code){t.next=5;break}return t.abrupt("return");case 5:e.$message.success(e.$t("public.action.succeed")),e.$emit("handleOk"),null===(n=e.$refs.ruleForm)||void 0===n||n.resetFields();case 8:case"end":return t.stop()}}),t)}))))}}},l=s,p=(n("7be0"),n("2877")),d=Object(p["a"])(l,r,a,!1,null,"ae269ae2",null);t["default"]=d.exports}}]);