(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-433ca164"],{"36bd":function(t,a,e){"use strict";e("8662")},8662:function(t,a,e){},a144:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t._self._c;return a("section",{staticClass:"page-wrap no-padding",on:{click:function(a){t.showSearch=!1}}},[a("a-page-header",{attrs:{title:t.$t("fault.statistics.title")}},[a("product-change",{directives:[{name:"show",rawName:"v-show",value:!t.noData,expression:"!noData"}],attrs:{detailList:["productTypeName","networkTypeDesc"]},on:{dataChange:t.productChange,isData:t.isData}}),t.noData?t._e():a("section",{staticClass:"content"},[a("section",[a("div",{staticClass:"flex x-space-between"},[a("h4",[t._v(t._s(t.$t("fault.statistics.count.title")))])]),a("section",{staticClass:"chart-wrap"},[a("div",{staticClass:"tooltip",attrs:{id:"countTooltip"}}),a("div",{attrs:{id:"countChart"}})])]),a("section",[a("div",{staticClass:"flex x-space-between"},[a("h4",[t._v(t._s(t.$t("fault.statistics.count.type")))])]),a("section",{staticClass:"chart-wrap"},[a("div",{staticClass:"tooltip",attrs:{id:"typeTooltip"}}),a("div",{attrs:{id:"typeChart"}})])])]),t.noData?[a("no-data",{attrs:{text:t.$t("fault.statistics.noData.text"),buttonText:t.$t("fault.statistics.noData.button"),path:"/product/product/createProduct/index"}})]:t._e()],2)],1)},i=[],o=e("c7eb"),s=e("1da1"),c=(e("99af"),e("917c")),r=e("4966"),l=e("501e"),h=e("f854"),u={components:{ProductChange:r["a"],NoData:l["a"]},data:function(){return{productKey:"",countChart:null,typeChart:null,typeChartData:[],countChartData:[],noData:!0}},mounted:function(){},methods:{isData:function(t){this.noData=!t},productChange:function(t){this.productKey=t.productKey,this.getDeviceFault()},getDeviceFault:function(){var t=this;return Object(s["a"])(Object(o["a"])().mark((function a(){var e,n,i;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(h["c"])({productKey:t.productKey});case 2:if(i=a.sent,0===i.code){a.next=5;break}return a.abrupt("return");case 5:t.countChartData=(null===(e=i.data)||void 0===e||null===(e=e.deviceMonFault)||void 0===e?void 0:e.data)||[],t.typeChartData=(null===(n=i.data)||void 0===n||null===(n=n.deviceFaultType)||void 0===n?void 0:n.data)||[],t.countChart?t.countChart.changeData(t.countChartData):t.initcountChart(),t.typeChart?t.typeChart.changeData(t.typeChartData):t.inittypeChart();case 9:case"end":return a.stop()}}),a)})))()},initcountChart:function(){this.countChart=new c["a"]({container:"countChart",autoFit:!0,height:250}),this.countChart.data(this.countChartData),this.countChart.scale("total",{nice:!0}),this.countChart.tooltip({showCrosshairs:!0,crosshairs:{line:{fill:"#BDC0C4"}},shared:!0,showContent:!1});var t=document.getElementById("countTooltip");this.countChart.on("tooltip:show",(function(a){t.innerHTML="".concat(a.data.items[0].title," ").concat(a.data.items[0].value),t.style.left="".concat(a.data.items[0].x+7,"px"),t.style.display="block"})),this.countChart.on("tooltip:hide",(function(a){t.style.display="none"})),this.chartConfig(this.countChart),this.countChart.interaction("active-region"),this.countChart.line().position("time*total").color("#3B7CFF "),this.countChart.render()},inittypeChart:function(){this.typeChart=new c["a"]({container:"typeChart",autoFit:!0,height:250}),this.typeChart.data(this.typeChartData),this.typeChart.scale("total",{nice:!0}),this.showToolTip(this.typeChart,"typeTooltip"),this.chartConfig(this.typeChart),this.typeChart.interaction("active-region"),this.typeChart.interval().position("faultType*total").color("l(90) 0:#3B7CFF 1:#ffffff").size(30),this.typeChart.render()},showToolTip:function(t,a){t.tooltip(!1);var e=document.getElementById(a);t.on("element:mousemove",(function(t){e.innerHTML="".concat(t.data.data.faultType," ").concat(t.data.data.total),e.style.left="".concat(t.x,"px"),e.style.display="block"})),t.on("element:mouseleave",(function(t){e.style.display="none"}))},chartConfig:function(t){t.axis("total",{grid:{line:{style:{stroke:"#DAE6F8",width:1,lineDash:[5]}}},label:{style:{fill:"#70757D",fontSize:12}}}),t.axis("time",{tickLine:!1,label:{style:{fill:"#70757D",fontSize:12}},line:{style:{stroke:"#DAE6F8",width:1}}})}},beforeDestroy:function(){var t,a;null===(t=this.countChart)||void 0===t||t.destroy(),null===(a=this.typeChart)||void 0===a||a.destroy()}},d=u,p=(e("36bd"),e("2877")),C=Object(p["a"])(d,n,i,!1,null,"2701c45a",null);a["default"]=C.exports}}]);