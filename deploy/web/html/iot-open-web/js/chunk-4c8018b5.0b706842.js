(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c8018b5"],{2130:function(t,e,a){},4802:function(t,e,a){"use strict";a("2130")},"7dfa":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("section",{staticClass:"page-wrap no-padding"},[e("a-page-header",{attrs:{title:t.$t("device.malfunction.title")},on:{back:function(e){return t.$router.back()}}},[e("icon-font",{style:{fontSize:"24px"},attrs:{slot:"backIcon",type:"icon-back_arrow"},slot:"backIcon"}),e("section",{staticClass:"content"},[e("h3",[t._v(t._s(t.$t("device.log.basic.msg")))]),e("div",[e("a-form",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[e("a-form-item",{attrs:{label:t.$t("device.log.deviceName")}},[t._v(" "+t._s(t.deviceName)+" ")]),e("a-form-item",{attrs:{label:t.$t("device.log.deviceId")}},[t._v(" "+t._s(t.did)+" ")])],1)],1),e("h3",[t._v(t._s(t.$t("device.malfunction.title")))]),e("p",{staticClass:"wraning-text"},[t._v(t._s(t.$t("device.malfunction.wraning.text")))]),e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:10}},[e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",[e("a-input",{attrs:{placeholder:t.$t("device.malfunction.query.desc"),allowClear:!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.query.apply(null,arguments)}},model:{value:t.queryParam.searchKey,callback:function(e){t.$set(t.queryParam,"searchKey",e)},expression:"queryParam.searchKey"}})],1)],1),e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",[e("a-select",{attrs:{placeholder:t.$t("device.malfunction.query.errorCode"),"default-value":"",options:t.codeList,allowClear:!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.query.apply(null,arguments)}},model:{value:t.queryParam.query.faultCode,callback:function(e){t.$set(t.queryParam.query,"faultCode",e)},expression:"queryParam.query.faultCode"}})],1)],1),e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",[e("a-select",{attrs:{placeholder:t.$t("device.malfunction.query.reportFrom"),"default-value":"",options:t.$DictList("device_fault_from"),allowClear:!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.query.apply(null,arguments)}},model:{value:t.queryParam.query.uploadFrom,callback:function(e){t.$set(t.queryParam.query,"uploadFrom",e)},expression:"queryParam.query.uploadFrom"}})],1)],1),e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",[e("a-select",{attrs:{placeholder:t.$t("device.malfunction.query.reportType"),"default-value":"",options:t.$DictList("device_fault_from_type"),allowClear:!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.query.apply(null,arguments)}},model:{value:t.queryParam.query.uploadMethod,callback:function(e){t.$set(t.queryParam.query,"uploadMethod",e)},expression:"queryParam.query.uploadMethod"}})],1)],1),e("a-col",{attrs:{md:4,sm:24}},[e("div",{staticClass:"table-page-search-submitButtons"},[e("a-space",{attrs:{size:10}},[e("a-button",{attrs:{type:"primary"},on:{click:t.query}},[t._v(" "+t._s(t.$t("public.search"))+" ")]),e("a-button",{staticClass:"regular-button",on:{click:t.reset}},[t._v(" "+t._s(t.$t("public.reset"))+" ")])],1)],1)])],1)],1)],1),e("a-table",{attrs:{size:"small","data-source":t.dataSource,columns:t.columns,loading:t.loading,pagination:t.pagination},on:{change:t.onChangePagination},scopedSlots:t._u([{key:"failTime",fn:function(e){return[t._v(" "+t._s(t._f("momentFilter")(e))+" ")]}}])})],1)],1)],1)},r=[],i=a("5530"),o=a("c7eb"),u=a("1da1"),c=(a("99af"),a("b0c0"),a("d81d"),a("aa98")),l={name:"DeviceMalfunction",data:function(){var t=this;return{did:0,deviceName:"",queryParam:{query:{}},dataSource:[],labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}},columns:[{title:this.$t("device.log.columns.sort"),customRender:function(t,e,a){return a+1}},{dataIndex:"failTime",title:this.$t("device.malfunction.columns.createdAt"),scopedSlots:{customRender:"failTime"}},{dataIndex:"code",title:this.$t("device.malfunction.columns.code")},{dataIndex:"desc",title:this.$t("device.malfunction.columns.desc"),width:"20%"},{dataIndex:"uploadFrom",title:this.$t("device.malfunction.columns.from")},{dataIndex:"uploadMethod",title:this.$t("device.malfunction.columns.type")},{dataIndex:"content",title:this.$t("device.malfunction.columns.parameter"),width:"20%"}],pagination:{showSizeChanger:!0,current:1,pageSize:10,total:0,showTotal:function(e,a){return t.$t("public.pagination.total")+":".concat(e)+t.$t("public.pagination.current")+":".concat(a[0],"-").concat(a[1])}},loading:!1,codeList:[]}},created:function(){var t=this;return Object(u["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.did=t.$route.query.did,t.deviceName=t.$route.query.name,e.next=4,t.queryList();case 4:t.codeList=t.$DictList("error_code").map((function(t){return{label:"".concat(t.value," - ").concat(t.label),value:t.value}}));case 5:case"end":return e.stop()}}),e)})))()},methods:{queryList:function(){var t=this;return Object(u["a"])(Object(o["a"])().mark((function e(){var a,n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,a={page:t.pagination.current,limit:t.pagination.pageSize,searchKey:t.queryParam.searchKey,query:Object(i["a"])({did:t.did},t.queryParam.query)},e.next=4,Object(c["i"])(a);case 4:if(n=e.sent,t.loading=!1,0===n.code){e.next=8;break}return e.abrupt("return");case 8:t.dataSource=n.data.list,t.pagination.total=n.data.total;case 10:case"end":return e.stop()}}),e)})))()},onChangePagination:function(t){this.pagination.current=t.current,this.pagination.pageSize=t.pageSize,this.queryList()},query:function(){this.pagination.current=1,this.queryList()},reset:function(){this.pagination.current=1,this.queryParam={query:{}},this.queryList()}}},s=l,d=(a("4802"),a("2877")),p=Object(d["a"])(s,n,r,!1,null,"5789bad5",null);e["default"]=p.exports},aa98:function(t,e,a){"use strict";a.d(e,"h",(function(){return r})),a.d(e,"d",(function(){return i})),a.d(e,"g",(function(){return o})),a.d(e,"j",(function(){return u})),a.d(e,"i",(function(){return c})),a.d(e,"f",(function(){return l})),a.d(e,"n",(function(){return s})),a.d(e,"l",(function(){return d})),a.d(e,"e",(function(){return p})),a.d(e,"c",(function(){return m})),a.d(e,"a",(function(){return f})),a.d(e,"b",(function(){return v})),a.d(e,"m",(function(){return b})),a.d(e,"k",(function(){return y}));var n=a("b775");function r(t){return Object(n["b"])({url:"/v1/platform/web/iot/activeDevice/list",method:"post",data:t})}function i(t){return Object(n["b"])({url:"/v1/platform/web/iot/deviceTriad/import",method:"post",timeout:3e4,data:t})}function o(t){return Object(n["b"])({url:"/v1/platform/web/iot/activeDevice/detail/"+t,method:"get"})}function u(t){return Object(n["b"])({url:"/v1/platform/web/iot/activeDevice/logList",method:"post",data:t})}function c(t){return Object(n["b"])({url:"/v1/platform/web/data/open/overview/failLoglist",method:"post",data:t})}function l(t){return Object(n["b"])({url:"/v1/platform/web/iot/activeDevice/count",method:"post",data:t})}function s(t){return Object(n["b"])({url:"/v1/platform/web/iot/activeDevice/triadExportCount",method:"get",params:t})}function d(t){return Object(n["b"])({url:"/v1/platform/web/iot/device/virtualDeviceList",method:"post",data:t})}function p(t){return Object(n["b"])({url:"/v1/platform/web/iot/device/generatorVirtualDevice",method:"post",timeout:3e4,data:t})}function m(t){return Object(n["b"])({url:"/v1/platform/web/iot/device/deleteVirtualDevice",method:"post",data:t})}function f(t){return Object(n["b"])({url:"/v1/platform/web/iot/device/addAppAccount",method:"post",data:t})}function v(t){return Object(n["b"])({url:"/v1/platform/web/iot/device/addVirtualDevice",method:"post",timeout:3e4,data:t})}function b(t){return Object(n["b"])({url:"/v1/platform/web/iot/app/build/qrCodeUrl",method:"get",params:t})}function y(t){return Object(n["b"])({url:"/v1/platform/web/iot/activeDevice/produce/list",method:"post",data:t})}}}]);