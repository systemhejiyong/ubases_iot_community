(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64c6ff9d"],{3095:function(t,a,e){"use strict";e("5775")},5775:function(t,a,e){},ef1c:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t._self._c;return a("section",{staticClass:"page-wrap no-padding",on:{click:function(a){t.showSearch=!1}}},[a("a-page-header",{attrs:{title:t.$t("device.statistics.title")}},[a("product-change",{directives:[{name:"show",rawName:"v-show",value:!t.noData,expression:"!noData"}],attrs:{detailList:["productTypeName","networkTypeDesc"]},on:{dataChange:t.productChange,isData:t.isData}}),t.noData?t._e():a("section",{staticClass:"content"},[a("a-row",{attrs:{gutter:20}},t._l(t.totalList,(function(e){return a("a-col",{key:e.key,attrs:{xs:24,md:8}},[a("div",{staticClass:"card"},[a("div",{staticClass:"number-wrap"},[a("p",{domProps:{textContent:t._s(e.label)}}),a("p",{staticClass:"total-num"},[t._v(t._s(t._f("NumberFormat")(t.totalData[e.key])))])])])])})),1),a("section",{staticClass:"chart-block"},[a("div",{staticClass:"flex x-space-between"},[a("h4",[t._v(t._s(t.$t("device.statistics.active.title")))])]),a("section",{staticClass:"chart-wrap"},[a("div",{staticClass:"tooltip",attrs:{id:"activeTooltip"}}),a("div",{attrs:{id:"activeChart"}})])]),a("section",[a("div",{staticClass:"flex x-space-between"},[a("h4",[t._v(t._s(t.$t("device.statistics.count.title"))+" "+t._s(t.countTotal))])]),a("section",{staticClass:"chart-wrap"},[a("div",{staticClass:"tooltip",attrs:{id:"countTooltip"}}),a("div",{attrs:{id:"countChart"}})])])],1),t.noData?[a("no-data",{attrs:{text:t.$t("device.statistics.noData.text"),buttonText:t.$t("device.statistics.noData.button"),path:"/product/product/createProduct/index"}})]:t._e()],2)],1)},o=[],n=e("c7eb"),c=e("1da1"),s=(e("99af"),e("917c")),r=e("4966"),l=e("501e"),h=e("f854"),d={components:{ProductChange:r["a"],NoData:l["a"]},data:function(){return{productKey:"",countChart:null,activeChart:null,activeChartData:[],countChartData:[],noData:!0,countTotal:"",totalData:{},totalList:[{label:this.$t("activateData.total.today"),key:"today"},{label:this.$t("activateData.total.sevenDays"),key:"sevenDays"},{label:this.$t("activateData.total.total"),key:"total"}]}},mounted:function(){},methods:{isData:function(t){this.noData=!t},productChange:function(t){this.productKey=t.productKey,this.getDeviceActive()},getDeviceActive:function(){var t=this;return Object(c["a"])(Object(n["a"])().mark((function a(){var e,i,o,c,s,r,l;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(h["b"])({productKey:t.productKey});case 2:if(l=a.sent,0===l.code){a.next=5;break}return a.abrupt("return");case 5:t.countChartData=(null===(e=l.data)||void 0===e||null===(e=e.deviceMonActive)||void 0===e?void 0:e.data)||[],t.countTotal=(null===(i=l.data)||void 0===i||null===(i=i.deviceMonActive)||void 0===i?void 0:i.total)||"",t.activeChartData=(null===(o=l.data)||void 0===o||null===(o=o.deviceDayActive)||void 0===o?void 0:o.data)||[],t.countChart?t.countChart.changeData(t.countChartData):t.initcountChart(),t.activeChart?t.activeChart.changeData(t.activeChartData):t.initActiveChart(),t.totalData={today:(null===(c=l.data)||void 0===c?void 0:c.deviceTodayActive)||0,sevenDays:(null===(s=l.data)||void 0===s?void 0:s.device7DayActive)||0,total:(null===(r=l.data)||void 0===r?void 0:r.deviceActiveAll)||0};case 11:case"end":return a.stop()}}),a)})))()},initcountChart:function(){this.countChart=new s["a"]({container:"countChart",autoFit:!0,height:250}),this.countChart.data(this.countChartData),this.countChart.scale("total",{nice:!0}),this.countChart.tooltip({showCrosshairs:!0,crosshairs:{line:{fill:"#BDC0C4"}},shared:!0,showContent:!1});var t=document.getElementById("countTooltip");this.countChart.on("tooltip:show",(function(a){t.innerHTML="".concat(a.data.items[0].title," ").concat(a.data.items[0].value),t.style.left="".concat(a.data.items[0].x+7,"px"),t.style.display="block"})),this.countChart.on("tooltip:hide",(function(a){t.style.display="none"})),this.chartConfig(this.countChart),this.countChart.interaction("active-region"),this.countChart.line().position("time*total").color("#3B7CFF "),this.countChart.render()},initActiveChart:function(){this.activeChart=new s["a"]({container:"activeChart",autoFit:!0,height:250}),this.activeChart.data(this.activeChartData),this.activeChart.scale("total",{nice:!0}),this.showToolTip(this.activeChart,"activeTooltip"),this.chartConfig(this.activeChart),this.activeChart.interaction("active-region"),this.activeChart.interval().position("time*total").color("l(90) 0:#3B7CFF 1:#ffffff"),this.activeChart.render()},showToolTip:function(t,a){t.tooltip(!1);var e=document.getElementById(a);t.on("element:mousemove",(function(t){e.innerHTML="".concat(t.data.data.time.split(" ").shift()," ").concat(t.data.data.total),e.style.left="".concat(t.x,"px"),e.style.display="block"})),t.on("element:mouseleave",(function(t){e.style.display="none"}))},chartConfig:function(t){t.axis("total",{grid:{line:{style:{stroke:"#DAE6F8",width:1,lineDash:[5]}}},label:{style:{fill:"#70757D",fontSize:12}}}),t.axis("time",{tickLine:!1,label:{style:{fill:"#70757D",fontSize:12}},line:{style:{stroke:"#DAE6F8",width:1}}})}},beforeDestroy:function(){var t,a;null===(t=this.countChart)||void 0===t||t.destroy(),null===(a=this.activeChart)||void 0===a||a.destroy()}},u=d,v=(e("3095"),e("2877")),C=Object(v["a"])(u,i,o,!1,null,"857a94a2",null);a["default"]=C.exports}}]);