(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a7a38226"],{"0ded":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{title:t.$t("helpCenter.setDoc.title"),width:680,visible:t.visible,"confirm-loading":t.confirmLoading},on:{ok:t.handleOk,cancel:t.handleCancel}},[e("a-spin",{attrs:{spinning:t.confirmLoading}},[e("a-form-model",{ref:"ruleForm",staticClass:"regular-form",attrs:{model:t.formData,rules:t.rules,"label-col":{span:6},"wrapper-col":{span:15}}},[e("a-form-model-item",{ref:"name",attrs:{label:t.$t("helpCenter.setDoc.label.sort"),prop:"sortId"}},[e("a-input-number",{staticClass:"sort-input",attrs:{placeholder:t.$t("helpCenter.setDoc.placeholder.sort"),min:0,max:1e3,precision:0},model:{value:t.formData.sortId,callback:function(e){t.$set(t.formData,"sortId",e)},expression:"formData.sortId"}})],1),e("a-form-model-item",{attrs:{label:t.$t("helpCenter.setDoc.label.isEnable"),prop:"status"}},[e("a-radio-group",{attrs:{options:t.$DictList("is_doc_enable")},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}})],1)],1)],1)],1)},i=[],r=a("c7eb"),s=a("5530"),o=a("1da1"),c=a("898f"),l={name:"CreateHelpDoc",props:{visible:{type:Boolean,default:!1},form:{type:Object,default:function(){}}},data:function(){return{confirmLoading:!1,formData:{},rules:{sortId:[{required:!0,message:this.$t("helpCenter.setDoc.rules.sort"),trigger:"blur"}],status:[{required:!0,message:this.$t("helpCenter.setDoc.rules.isEnable"),trigger:"change"}]}}},watch:{visible:function(t){t&&(this.formData=this.$deepClone(this.form))}},mounted:function(){},methods:{handleOk:function(){var t=this;this.$refs.ruleForm.validate(function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(a){var n,i,o,l,u,d;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return t.confirmLoading=!0,i=Object(s["a"])({},t.formData),o=i.relationId,l=i.sortId,u=i.status,e.next=6,Object(c["d"])({relationId:o,sortId:l,status:u});case 6:if(d=e.sent,t.confirmLoading=!1,0===d.code){e.next=10;break}return e.abrupt("return");case 10:t.$emit("handleOk"),t.formData={},null===(n=t.$refs.ruleForm)||void 0===n||n.resetFields();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},handleCancel:function(){var t;this.$emit("handleCancel"),this.formData={},null===(t=this.$refs.ruleForm)||void 0===t||t.resetFields()}}},u=l,d=(a("805d"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,"81d3157e",null);e["default"]=p.exports},3880:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("section",{staticClass:"page-wrap"},[e("a-page-header",{attrs:{title:"".concat(t.productName)+t.$t("helpCenter.docManage.title")},on:{back:function(e){return t.$router.back()}}},[e("icon-font",{style:{fontSize:"24px"},attrs:{slot:"backIcon",type:"icon-back_arrow"},slot:"backIcon"}),e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:10}},[e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",[e("a-select",{attrs:{placeholder:t.$t("helpCenter.docManage.placeholder.lang"),options:t.langList,allowClear:!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.queryList.apply(null,arguments)}},model:{value:t.queryParam.query.lang,callback:function(e){t.$set(t.queryParam.query,"lang",e)},expression:"queryParam.query.lang"}})],1)],1),e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",[e("a-input",{attrs:{placeholder:t.$t("helpCenter.docManage.placeholder.title"),allowClear:!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.queryList.apply(null,arguments)}},model:{value:t.queryParam.query.title,callback:function(e){t.$set(t.queryParam.query,"title",e)},expression:"queryParam.query.title"}})],1)],1),e("a-col",{attrs:{md:4,sm:24}},[e("a-form-item",[e("a-select",{attrs:{placeholder:t.$t("helpCenter.docManage.placeholder.isEnable"),options:t.$DictList("is_doc_enable"),allowClear:!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.queryList.apply(null,arguments)}},model:{value:t.queryParam.query.status,callback:function(e){t.$set(t.queryParam.query,"status",e)},expression:"queryParam.query.status"}})],1)],1),e("a-col",{attrs:{md:4,sm:24}},[e("span",{staticClass:"table-page-search-submitButtons"},[e("a-space",{attrs:{size:10}},[e("a-button",{attrs:{type:"primary"},on:{click:t.queryList}},[t._v(t._s(t.$t("public.search.button")))]),e("a-button",{staticClass:"regular-button",on:{click:t.reset}},[t._v(t._s(t.$t("public.reset")))])],1)],1)])],1)],1)],1),e("div",{staticClass:"table-operator"},[e("a-button",{staticClass:"grean-button",attrs:{type:"primary"},on:{click:t.toggleAdd}},[e("icon-font",{style:{fontSize:"18px"},attrs:{type:"icon-add"}}),t._v(" "+t._s(t.$t("public.add"))+" ")],1)],1),e("a-table",{attrs:{size:"small",rowKey:"id","data-source":t.dataSource,columns:t.columns,loading:t.loading,pagination:t.pagination},on:{change:t.onChangePagination},scopedSlots:t._u([{key:"title",fn:function(a){return[e("span",{staticClass:"title tap-pointer",on:{click:function(e){return t.checkDetails(a)}}},[t._v(t._s(a.title))])]}},{key:"status",fn:function(e,a){return[t._v(" "+t._s(t.$DictName("is_doc_enable",a.status))+" ")]}},{key:"updatedAt",fn:function(e,a){return[t._v(" "+t._s(t._f("momentFilter")(a.updatedAt))+" ")]}},{key:"action",fn:function(a){return[e("a-button",{attrs:{type:"link",size:"small"},on:{click:function(e){return t.editDoc(a)}}},[t._v(" "+t._s(t.$t("helpCenter.docManage.edit.doc"))+" ")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-button",{attrs:{type:"link",size:"small"},on:{click:function(e){return t.configDoc(a)}}},[t._v(" "+t._s(t.$t("public.set"))+" ")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-button",{attrs:{type:"link",size:"small"},on:{click:function(e){return t.deleteDoc(a)}}},[t._v(" "+t._s(t.$t("public.delete"))+" ")])]}}])})],1),e("set-doc",{attrs:{visible:t.setDocVisible,form:t.setData},on:{handleCancel:t.cancelSet,handleOk:t.sumitSet}}),e("edit-doc",{attrs:{visible:t.editDocVisible,readOnly:t.isReadOnly,title:t.editTitle,relationId:t.editRelationId,productKey:t.productKey,langList:t.langList},on:{cancel:t.cancelEdit,sumit:t.sumitEdit}})],1)},i=[],r=a("c7eb"),s=a("5530"),o=a("1da1"),c=(a("99af"),a("d81d"),a("0ded")),l=a("4d65"),u=a("898f"),d={components:{SetDoc:c["default"],EditDoc:l["default"]},data:function(){var t=this;return{queryParam:{query:{lang:"zh"}},dataSource:[],columns:[{title:this.$t("public.sort"),dataIndex:"sortId",width:"50px"},{title:this.$t("helpCenter.docManage.columns.title"),key:"title",scopedSlots:{customRender:"title"}},{dataIndex:"status",title:this.$t("helpCenter.docManage.columns.isEnable"),scopedSlots:{customRender:"status"},width:"50px"},{dataIndex:"updatedAt",title:this.$t("helpCenter.docManage.columns.updatedAt"),scopedSlots:{customRender:"updatedAt"}},{title:this.$t("public.action"),key:"action",align:"center",width:"220px",scopedSlots:{customRender:"action"}}],loading:!1,setDocVisible:!1,editDocVisible:!1,isReadOnly:!1,editTitle:"",docId:"",productName:"",type:"",setIdEdit:"",pagination:{showSizeChanger:!0,current:1,pageSize:10,total:0,showTotal:function(e,a){return t.$t("public.pagination.total")+":".concat(e)+t.$t("public.pagination.current")+":".concat(a[0],"-").concat(a[1])}},langList:[],setData:{},productKey:"",editRelationId:""}},created:function(){},mounted:function(){this.productKey=this.$route.query.productKey||"",this.docId=this.$route.query.id||"",this.getSupportLangs(),this.queryList()},methods:{reset:function(){this.queryParam={query:{lang:this.queryParam.query.lang}},this.pagination.current=1,this.queryList()},queryList:function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){var a,n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.queryParam.query["productKey"]=t.productKey,a=Object(s["a"])(Object(s["a"])({},t.queryParam),{},{pageNum:t.pagination.current,pageSize:t.pagination.pageSize}),e.next=5,Object(u["g"])(a);case 5:if(n=e.sent,t.loading=!1,0===n.code){e.next=9;break}return e.abrupt("return");case 9:t.dataSource=n.data.list,t.pagination.total=n.data.total;case 11:case"end":return e.stop()}}),e)})))()},toggleAdd:function(){this.isReadOnly=!1,this.editTitle=this.$t("public.add"),this.editRelationId="",this.editDocVisible=!0},checkDetails:function(t){this.isReadOnly=!0,this.editTitle=this.$t("helpCenter.docManage.problem.detail"),this.setIdEdit=t.id,this.editDocVisible=!0},editDoc:function(t){this.isReadOnly=!1,this.editTitle=this.$t("public.edit"),this.editRelationId=t.relationId,this.editDocVisible=!0},configDoc:function(t){this.setData=Object(s["a"])({},t),this.setDocVisible=!0},cancelSet:function(){this.setDocVisible=!1},sumitSet:function(){this.setDocVisible=!1,this.queryList()},cancelEdit:function(){this.editDocVisible=!1},sumitEdit:function(){this.editDocVisible=!1,this.queryList()},deleteDoc:function(t){var e=this;this.$ConfirmModal(this,this.$t("helpCenter.docManage.delete.content"),this.$t("helpCenter.docManage.delete.title"),this.$t("public.sumit")).then(Object(o["a"])(Object(r["a"])().mark((function a(){var n;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(u["b"])({relationId:t.relationId});case 2:if(n=a.sent,0===n.code){a.next=5;break}return a.abrupt("return");case 5:e.$message.success(e.$t("public.action.succeed")),e.queryList();case 7:case"end":return a.stop()}}),a)}))))},getSupportLangs:function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){var a,n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["e"])({id:t.docId});case 2:if(n=e.sent,0===n.code){e.next=5;break}return e.abrupt("return");case 5:t.langList=null===(a=n.data)||void 0===a||null===(a=a.langs)||void 0===a?void 0:a.map((function(t){return{label:t.langName,value:t.lang}}));case 6:case"end":return e.stop()}}),e)})))()},onChangePagination:function(t){this.pagination.current=t.current,this.pagination.pageSize=t.pageSize,this.queryList()}}},p=d,h=a("2877"),f=Object(h["a"])(p,n,i,!1,null,"c35980cc",null);e["default"]=f.exports},"805d":function(t,e,a){"use strict";a("a93c")},a93c:function(t,e,a){}}]);